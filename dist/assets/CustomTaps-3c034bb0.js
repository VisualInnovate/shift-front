import{S as N,A as R,c as $}from"./ProductOffers-650c5e11.js";import{_ as j,r as S,u as D,k as O,q,o as A,n as W,a as g,c as b,F as C,d as z,f,t as T,h as E,w as I,b as G,e as B,i as F}from"./index-f721525b.js";function H(M){let{swiper:o,extendParams:h}=M;h({grid:{rows:1,fill:"column"}});let u,m,d;const x=()=>{let e=o.params.spaceBetween;return typeof e=="string"&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*o.size:typeof e=="string"&&(e=parseFloat(e)),e},v=e=>{const{slidesPerView:s}=o.params,{rows:t,fill:a}=o.params.grid;d=Math.floor(e/t),Math.floor(e/t)===e/t?u=e:u=Math.ceil(e/t)*t,s!=="auto"&&a==="row"&&(u=Math.max(u,s*t)),m=u/t},k=(e,s,t,a)=>{const{slidesPerGroup:i}=o.params,p=x(),{rows:c,fill:_}=o.params.grid;let w,l,n;if(_==="row"&&i>1){const y=Math.floor(e/(i*c)),P=e-c*i*y,V=y===0?i:Math.min(Math.ceil((t-y*c*i)/c),i);n=Math.floor(P/V),l=P-n*V+y*i,w=l+n*u/c,s.style.order=w}else _==="column"?(l=Math.floor(e/c),n=e-l*c,(l>d||l===d&&n===c-1)&&(n+=1,n>=c&&(n=0,l+=1))):(n=Math.floor(e/m),l=e-n*m);s.row=n,s.column=l,s.style[a("margin-top")]=n!==0?p&&`${p}px`:""},r=(e,s,t)=>{const{centeredSlides:a,roundLengths:i}=o.params,p=x(),{rows:c}=o.params.grid;if(o.virtualSize=(e+p)*u,o.virtualSize=Math.ceil(o.virtualSize/c)-p,o.wrapperEl.style[t("width")]=`${o.virtualSize+p}px`,a){const _=[];for(let w=0;w<s.length;w+=1){let l=s[w];i&&(l=Math.floor(l)),s[w]<o.virtualSize+s[0]&&_.push(l)}s.splice(0,s.length),s.push(..._)}};o.grid={initSlides:v,updateSlide:k,updateWrapperSize:r}}const J={class:"mx-auto px-4 max-w-[1500px]"},K={class:"flex items-center justify-between"},Q={class:"font-bold font-sans text-gray-800 lg:mt-4 xs:mt-2 xs:text-lg sm:text-xl md:text-2xl lg:text-3xl"},U={class:"w-full aspect-[3.3/4] overflow-hidden rounded-xl shadow-sm relative"},X=["src","alt"],Y={class:"font-sans mt-4 mb-1 text-center mx-3 text-gray-800 font-medium xs:text-sm sm:text-base md:text-lg"},Z={__name:"CustomTaps",setup(M){const o=S(localStorage.getItem("appLang")||"ar"),h=S([]),u=S([]),m=S(localStorage.getItem("defaultStoreId")||null);D();const d=O(),x=async()=>{try{const r=await F.get("api/home/get-stores");h.value=r.data.data.data;const e=h.value.find(s=>s.is_default===4)}catch(r){console.error("Error fetching stores:",r)}},v=async()=>{try{const r=["home","stores-hasmarket"].includes(d.name)?"store":"category",e=d.params.id||m.value;if(!e){console.error("No store ID available");return}const s=await F.get(`/api/home/get-custom-tab/${r}/${e}`);u.value=s.data.data.data}catch(r){console.error("Error fetching custom tabs:",r)}},k=(r,e,s)=>{const t=r===1?"customtap-category":r===2?"customtap-products":r===3?"customtap-brand":null;return t?{name:t,params:{id:e},query:{title:s}}:null};return q(()=>d.name,()=>{(m.value||d.params.id)&&v()},{immediate:!0}),A(()=>{x(),(m.value||d.params.id)&&v()}),(r,e)=>{const s=W("router-link");return g(),b("div",J,[(g(!0),b(C,null,z(u.value,t=>(g(),b("div",{key:t.id},[f("div",K,[f("h2",Q,T(o.value==="ar"?t.name_ar:t.name_en),1)]),E(B($),{modules:[B(R),B(H)],"slides-per-view":t.row_type===1?4:2,grid:t.row_type===2?{rows:2,fill:"row"}:null,"space-between":t.row_type===1?8:16,loop:!0,autoplay:{delay:0,disableOnInteraction:!0},speed:25e3,"grab-cursor":!0,class:"mt-6 pb-1",breakpoints:t.row_type===1?{320:{slidesPerView:2,spaceBetween:8},640:{slidesPerView:2,spaceBetween:12},768:{slidesPerView:3,spaceBetween:16},1024:{slidesPerView:5,spaceBetween:20}}:{320:{slidesPerView:2,spaceBetween:8,grid:{rows:2}},640:{slidesPerView:2,spaceBetween:12,grid:{rows:2}},768:{slidesPerView:3,spaceBetween:16,grid:{rows:2}},1024:{slidesPerView:5,spaceBetween:20,grid:{rows:2}}}},{default:I(()=>[(g(!0),b(C,null,z(t.details,(a,i)=>(g(),G(B(N),{key:i,class:"group flex flex-col items-start pb-[1%] rounded-lg shadow-lg transition-all duration-300 hover:-translate-y-2"},{default:I(()=>[E(s,{to:k(t.type,a.id,o.value==="ar"?a.name_ar:a.name_en),class:"block w-full"},{default:I(()=>{var p;return[f("div",U,[f("img",{src:((p=a.media[0])==null?void 0:p.url)||"/placeholder.jpg",alt:o.value==="ar"?a.name_ar:a.name_en,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,X),e[0]||(e[0]=f("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"},null,-1))]),f("p",Y,T(o.value==="ar"?a.name_ar:a.name_en),1)]}),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1032,["modules","slides-per-view","grid","space-between","breakpoints"])]))),128))])}}},te=j(Z,[["__scopeId","data-v-a060e409"]]);export{te as C};
