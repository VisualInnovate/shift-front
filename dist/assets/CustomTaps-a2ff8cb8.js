import{_ as F,r as B,u as N,p as j,B as D,o as O,b as R,c as x,d as S,F as C,k as V,f as w,t as T,e as E,w as M,l as $,h as k,j as A}from"./index-53090579.js";import{S as q,A as G,a as U}from"./swiper-73f8cccf.js";function W(I){let{swiper:o,extendParams:_}=I;_({grid:{rows:1,fill:"column"}});let i,f,g;const v=()=>{let e=o.params.spaceBetween;return typeof e=="string"&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*o.size:typeof e=="string"&&(e=parseFloat(e)),e},y=e=>{const{slidesPerView:t}=o.params,{rows:s,fill:d}=o.params.grid;g=Math.floor(e/s),Math.floor(e/s)===e/s?i=e:i=Math.ceil(e/s)*s,t!=="auto"&&d==="row"&&(i=Math.max(i,t*s)),f=i/s},u=(e,t,s,d)=>{const{slidesPerGroup:n}=o.params,p=v(),{rows:c,fill:h}=o.params.grid;let m,r,l;if(h==="row"&&n>1){const b=Math.floor(e/(n*c)),P=e-c*n*b,z=b===0?n:Math.min(Math.ceil((s-b*c*n)/c),n);l=Math.floor(P/z),r=P-l*z+b*n,m=r+l*i/c,t.style.order=m}else h==="column"?(r=Math.floor(e/c),l=e-r*c,(r>g||r===g&&l===c-1)&&(l+=1,l>=c&&(l=0,r+=1))):(l=Math.floor(e/f),r=e-l*f);t.row=l,t.column=r,t.style[d("margin-top")]=l!==0?p&&`${p}px`:""},a=(e,t,s)=>{const{centeredSlides:d,roundLengths:n}=o.params,p=v(),{rows:c}=o.params.grid;if(o.virtualSize=(e+p)*i,o.virtualSize=Math.ceil(o.virtualSize/c)-p,o.wrapperEl.style[s("width")]=`${o.virtualSize+p}px`,d){const h=[];for(let m=0;m<t.length;m+=1){let r=t[m];n&&(r=Math.floor(r)),t[m]<o.virtualSize+t[0]&&h.push(r)}t.splice(0,t.length),t.push(...h)}};o.grid={initSlides:y,updateSlide:u,updateWrapperSize:a}}const H={class:"mx-auto px-4 max-w-[1500px]"},J={class:"flex items-center justify-between"},K={class:"font-bold font-sans text-gray-800 mt-4 text-lg sm:text-xl md:text-2xl lg:text-3xl"},Q={class:"w-full aspect-[3.3/4] overflow-hidden rounded-xl shadow-sm relative bg-gray-50"},X=["src","alt"],Y={class:"font-sans mt-4 mb-2 text-center mx-3 text-gray-800 font-medium text-sm sm:text-base md:text-lg line-clamp-2"},Z={__name:"CustomTaps",setup(I){const o=B(localStorage.getItem("appLang")||"ar"),_=B([]);N();const i=j(),f=B(localStorage.getItem("defaultStoreId")||null),g=u=>{const a=u===2;return{320:{slidesPerView:2,spaceBetween:8,grid:a?{rows:2}:void 0},640:{slidesPerView:2,spaceBetween:12,grid:a?{rows:2}:void 0},768:{slidesPerView:3,spaceBetween:16,grid:a?{rows:2}:void 0},1024:{slidesPerView:5,spaceBetween:20,grid:a?{rows:2}:void 0},1280:{slidesPerView:6,spaceBetween:24,grid:a?{rows:2}:void 0}}},v=(u,a,e)=>{if(!a)return"#";const s={1:"customtap-category",2:"customtap-products",3:"customtap-brand"}[u];return s?{name:s,params:{id:a},query:{title:e||"Item"}}:(console.warn("Unknown detail type:",u),"#")},y=async()=>{const u=i.params.id||f.value;if(!u){console.error("No store/category ID available");return}A.get(`/api/home/get-custom-tab/${u}`).then(a=>{var t,s;const e=((s=(t=a.data)==null?void 0:t.data)==null?void 0:s.data)||[];_.value=e.map(d=>({...d,details:d.details||[]}))}).catch(a=>{console.error("Error fetching custom tabs:",a),_.value=[]})};return D(()=>[i.name,f.value,i.params.id],()=>{y()},{immediate:!0}),O(()=>{y()}),(u,a)=>{const e=R("router-link");return x(),S("div",H,[(x(!0),S(C,null,V(_.value,t=>(x(),S("div",{key:t.id,class:"mb-12"},[w("div",J,[w("h2",K,T(o.value==="ar"?t.name_ar:t.name_en),1)]),E(k(U),{modules:[k(G),k(W)],"slides-per-view":t.row_type===1?4:2,grid:t.row_type===2?{rows:2,fill:"row"}:void 0,"space-between":t.row_type===1?8:16,loop:!0,autoplay:{delay:0,disableOnInteraction:!1,pauseOnMouseEnter:!0},speed:3e4,"grab-cursor":!0,"allow-touch-move":!0,class:"mt-6 pb-8",breakpoints:g(t.row_type)},{default:M(()=>[(x(!0),S(C,null,V(t.details,(s,d)=>(x(),$(k(q),{key:s.id||d,class:"group flex flex-col items-start rounded-lg shadow-lg transition-all duration-300 hover:-translate-y-2 h-auto"},{default:M(()=>[E(e,{to:v(s.type,s.id,o.value==="ar"?s.name_ar:s.name_en),class:"block w-full"},{default:M(()=>{var n,p;return[w("div",Q,[w("img",{src:((p=(n=s.media)==null?void 0:n[0])==null?void 0:p.url)||"/placeholder.jpg",alt:o.value==="ar"?s.name_ar:s.name_en,class:"w-full h-full object-center transition-transform duration-500 group-hover:scale-110",loading:"lazy"},null,8,X),a[0]||(a[0]=w("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300 pointer-events-none"},null,-1))]),w("p",Y,T(o.value==="ar"?s.name_ar:s.name_en),1)]}),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1032,["modules","slides-per-view","grid","space-between","breakpoints"])]))),128))])}}},te=F(Z,[["__scopeId","data-v-ac588416"]]);export{te as C};
