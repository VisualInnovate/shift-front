import{_ as x,u as w,c as k,r as n,d as m,o as L,p as A,q as I,e as o,v as B,w as C,g as r,f as c,h as g,i as h,s as b,t as y,x as M}from"./index-ce71ecef.js";import{p as S}from"./purify.es-9d2bf633.js";const T={class:"flex"},V={class:"w-full"},$={key:0,class:"flex justify-center items-center h-64"},z={key:1,class:"text-center text-red-500 py-10"},E={class:"text-lg font-semibold"},H=["dir","innerHTML"],N={key:3,class:"text-center text-gray-600 py-10"},j={__name:"Privacy-Policy",setup(q){const{t:s}=w(),p=k(),u=n((()=>localStorage.getItem("appLang")||"en")()),v=n([]),i=n(!1),l=n(null),_=a=>{const t=v.value.find(e=>e.key===a);return(t==null?void 0:t.value)||""},d=m(()=>u.value==="ar"?_("privacy_policy_ar"):_("privacy_policy_en")),P=m(()=>S.sanitize(d.value));return L(async()=>{var a,t;i.value=!0;try{const{data:e}=await A.get("/api/setting/not-auth");if(e.is_success&&Array.isArray(e.data))v.value=e.data,d.value||p.add({severity:"warn",summary:s("privacyPolicy.warning")||s("common.warning"),detail:s("privacyPolicy.noContent"),life:4e3});else throw new Error("Invalid API response format")}catch(e){const f=((t=(a=e.response)==null?void 0:a.data)==null?void 0:t.message)||s("error.loadPrivacyPolicy")||"Failed to load privacy policy";l.value=f,p.add({severity:"error",summary:s("error.title"),detail:f,life:5e3}),console.error("Privacy Policy load error:",e)}finally{i.value=!1}}),(a,t)=>{const e=I("va-card");return o(),B(e,{class:"card my-4 p-[2%] min-h-[50vh] max-w-7xl m-auto"},{default:C(()=>[r("div",T,[r("div",V,[i.value?(o(),c("div",$,[g(h(b),{style:{width:"50px",height:"50px"}})])):l.value?(o(),c("div",z,[r("p",E,y(a.$t("error.title")),1),r("p",null,y(l.value),1)])):d.value?(o(),c("div",{key:2,class:"prose max-w-none",dir:u.value==="ar"?"rtl":"ltr",innerHTML:P.value},null,8,H)):(o(),c("div",N,[r("p",null,y(a.$t("privacyPolicy.noContent")),1)]))])]),g(h(M))]),_:1})}}},J=x(j,[["__scopeId","data-v-1b2f6813"]]);export{J as default};
