import{_ as $,u as M,b as T,r as m,A as V,z,e as r,f as i,g as e,j as A,n as g,i as o,t as l,G as f,B as h,Y as B,F as x,m as v,D as w,l as k,k as j}from"./index-7b82f61b.js";const N={class:"bg-gray-900 min-h-screen flex items-start justify-center p-4 overflow-hidden"},q={class:"bg-white rounded-3xl shadow-2xl p-4 w-full max-w-sm sm:max-w-lg my-8"},D={class:"bg-gray-100 rounded-xl p-1 mb-8 flex transition-all duration-300"},G=["aria-label"],H=["aria-label"],I={class:"flex"},U={value:"",disabled:""},E=["value"],F=["placeholder"],P=["disabled"],Y={key:0,class:"text-red-600 text-sm text-center"},J=["placeholder"],K=["disabled"],O={key:0,class:"text-red-600 text-sm text-center"},Q={class:"flex items-center my-6"},R={class:"mx-4 text-gray-400 text-xs font-semibold"},W=["disabled","aria-label"],X={class:"text-gray-700 font-semibold"},Z={class:"mt-8 text-center text-sm text-gray-500"},ee={__name:"auth",setup(ae){const{t}=M(),C=T(),u=m("phone"),_=m(""),b=m("+962"),p=m(""),c=V(),d=m([]),L=[{name_ar:"السعودية",name_en:"Saudi Arabia",code:"+966"},{name_ar:"الإمارات",name_en:"United Arab Emirates",code:"+971"},{name_ar:"مصر",name_en:"Egypt",code:"+20"},{name_ar:"الكويت",name_en:"Kuwait",code:"+965"},{name_ar:"قطر",name_en:"Qatar",code:"+974"},{name_ar:"الجزائر",name_en:"Algeria",code:"+213"},{name_ar:"البحرين",name_en:"Bahrain",code:"+973"},{name_ar:"جزر القمر",name_en:"Comoros",code:"+269"},{name_ar:"جيبوتي",name_en:"Djibouti",code:"+253"},{name_ar:"العراق",name_en:"Iraq",code:"+964"},{name_ar:"الأردن",name_en:"Jordan",code:"+962"},{name_ar:"لبنان",name_en:"Lebanon",code:"+961"},{name_ar:"ليبيا",name_en:"Libya",code:"+218"},{name_ar:"المغرب",name_en:"Morocco",code:"+212"},{name_ar:"موريتانيا",name_en:"Mauritania",code:"+222"},{name_ar:"عمان",name_en:"Oman",code:"+968"},{name_ar:"فلسطين",name_en:"Palestine",code:"+970"},{name_ar:"الصومال",name_en:"Somalia",code:"+252"},{name_ar:"السودان",name_en:"Sudan",code:"+249"},{name_ar:"سوريا",name_en:"Syria",code:"+963"},{name_ar:"تونس",name_en:"Tunisia",code:"+216"},{name_ar:"اليمن",name_en:"Yemen",code:"+967"}];z(u,()=>{d.value=[]});const y=async()=>{d.value=[];const s=u.value==="phone"?{type:"phone",phoneNumber:_.value,countryCode:b.value}:{type:"email",email:p.value},a=await c.handleLogin(s);a.is_success||(d.value=a.errors)},S=async()=>{d.value=[];const s=await c.handleGoogleLogin({});s.is_success||(d.value=s.errors)};return(s,a)=>(r(),i("div",N,[e("div",q,[a[9]||(a[9]=e("div",{class:"flex flex-col items-center mb-8"},[e("img",{src:A,alt:"SHIFT7 Logo",class:"h-16 w-16 object-contain"})],-1)),e("div",D,[e("button",{onClick:a[0]||(a[0]=n=>u.value="phone"),class:g(["flex-1 mx-2 py-3 px-4 rounded-xl font-bold transition-colors duration-300",u.value==="phone"?"bg-yellow-400 text-gray-700":"bg-white text-gray-500"]),"aria-label":o(t)("login.phoneTab")},l(o(t)("login.phoneTab")),11,G),e("button",{onClick:a[1]||(a[1]=n=>u.value="email"),class:g(["flex-1 mx-2 py-3 px-4 rounded-xl font-bold transition-colors duration-300",u.value==="email"?"bg-yellow-400 text-gray-700":"bg-white text-gray-500"]),"aria-label":o(t)("login.emailTab")},l(o(t)("login.emailTab")),11,H)]),u.value==="phone"?(r(),i("form",{key:0,onSubmit:f(y,["prevent"]),class:"space-y-6"},[e("div",I,[h(e("select",{"onUpdate:modelValue":a[2]||(a[2]=n=>b.value=n),class:g(["w-1/3 px-4 py-3 rounded-tr-xl rounded-br-xl bg-gray-100 text-gray-700 focus:outline-none transition-shadow",{"text-right":s.$i18n.locale==="ar","text-left":s.$i18n.locale!=="ar"}]),required:""},[e("option",U,l(o(t)("login.selectCountry")),1),(r(),i(x,null,v(L,n=>e("option",{key:n.code,value:n.code},l(s.$i18n.locale==="ar"?n.name_ar:n.name_en)+" ("+l(n.code)+") ",9,E)),64))],2),[[B,b.value]]),h(e("input",{type:"tel","onUpdate:modelValue":a[3]||(a[3]=n=>_.value=n),placeholder:o(t)("login.phonePlaceholder"),class:g(["w-2/3 px-4 py-3 rounded-tl-xl rounded-bl-xl bg-gray-100 text-gray-700 focus:outline-none transition-shadow",{"text-right":s.$i18n.locale==="ar","text-left":s.$i18n.locale!=="ar"}]),required:"",pattern:"[0-9]{9,12}"},null,10,F),[[w,_.value]])]),e("button",{type:"submit",class:"w-full mt-8 py-3 bg-blue-700 text-white font-bold rounded-xl shadow-lg hover:bg-blue-800 transition-colors duration-300",disabled:o(c).loading},l(o(c).loading?o(t)("login.loading"):o(t)("login.submit")),9,P),d.value.length?(r(),i("div",Y,[(r(!0),i(x,null,v(d.value,n=>(r(),i("p",{key:n},l(n),1))),128))])):k("",!0)],32)):(r(),i("form",{key:1,onSubmit:f(y,["prevent"]),class:"space-y-6"},[h(e("input",{type:"email","onUpdate:modelValue":a[4]||(a[4]=n=>p.value=n),placeholder:o(t)("login.emailPlaceholder"),class:g(["w-full px-4 py-3 rounded-xl bg-gray-100 placeholder-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow",{"text-right":s.$i18n.locale==="ar","text-left":s.$i18n.locale!=="ar"}]),required:""},null,10,J),[[w,p.value]]),e("button",{type:"submit",class:"w-full mt-8 py-3 bg-blue-700 text-white font-bold rounded-xl shadow-lg hover:bg-blue-800 transition-colors duration-300",disabled:o(c).loading},l(o(c).loading?o(t)("login.loading"):o(t)("login.submit")),9,K),d.value.length?(r(),i("div",O,[(r(!0),i(x,null,v(d.value,n=>(r(),i("p",{key:n},l(n),1))),128))])):k("",!0)],32)),e("div",Q,[a[6]||(a[6]=e("div",{class:"flex-grow border-t border-gray-300"},null,-1)),e("span",R,l(o(t)("login.or")),1),a[7]||(a[7]=e("div",{class:"flex-grow border-t border-gray-300"},null,-1))]),e("button",{onClick:S,class:"w-full py-3 bg-white border border-gray-300 rounded-xl shadow-sm hover:shadow-md flex items-center justify-center space-x-2",disabled:o(c).loading,"aria-label":o(t)("login.googleLogin")},[a[8]||(a[8]=e("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"Google",role:"img",viewBox:"0 0 512 512",width:"34px",height:"34px",fill:"#000000"},[e("path",{d:"M488 261.2c0-14.7-1.4-29.1-4.1-43.1H256v82.2h135.5c-5.7 29.8-22.3 55.4-46.1 73.1v53.4h68.8c40.3-37.1 63.5-91.8 63.5-165.6z",fill:"#4285f4"}),e("path",{d:"M256 496c69.8 0 128.4-22.9 171.2-62.5l-68.8-53.4c-19.1 13.5-44.5 21.6-76.4 21.6-58.6 0-108.4-39.6-126.3-92.4H68.8v53.4C106.8 447.2 176.6 496 256 496z",fill:"#34a853"}),e("path",{d:"M129.7 302.5c-3.1-9.2-4.9-19-4.9-29.2s1.8-19.9 4.9-29.2V190H68.8c-10.2 20.3-15.8 43.8-15.8 68.8s5.6 48.5 15.8 68.8L129.7 302.5z",fill:"#fbbc04"}),e("path",{d:"M256 106.8c34.8 0 65.9 12 90.3 35.5l61.2-61.2c-38.3-36.4-88.6-58.1-151.5-58.1-79.4 0-149.2 48.8-187.2 122.8l61.2 47.5c17.9-52.8 67.7-92.4 126.3-92.4z",fill:"#ea4335"})],-1)),e("span",X,l(o(t)("login.googleLogin")),1)],8,W),e("div",Z,[j(l(o(t)("login.noAccount"))+" ",1),e("a",{onClick:a[5]||(a[5]=n=>o(C).push({name:"register"})),class:"text-blue-600 cursor-pointer font-semibold hover:underline"},l(o(t)("login.register")),1)])])]))}},ne=$(ee,[["__scopeId","data-v-5ce618ac"]]);export{ne as default};
