import{_ as j,l as L,a as N,u as E,r as V,c as k,d as g,a0 as R,e as r,h as i,B as w,g as s,t as d,j as l,v as f,i as u,F as B,m as q,w as A,G as M,f as C,D as G,n as y,b as O}from"./index-17cbd9c2.js";const z=["dir"],H={class:"text-3xl font-bold text-center mb-8 text-gray-800"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"space-y-2"},P={for:"name_en",class:"block text-sm font-medium text-gray-700"},Q={class:"space-y-2"},W={for:"name_ar",class:"block text-sm font-medium text-gray-700"},X={class:"space-y-2"},Y={for:"is_color",class:"block text-sm font-medium text-gray-700"},Z={class:"space-y-4"},ee={class:"text-lg font-semibold text-gray-700 border-b pb-2"},te={class:"space-y-2"},ae=["for"],se={class:"flex space-x-2"},le=["id","onUpdate:modelValue"],oe={key:0,class:"space-y-2"},re=["for"],ne={class:"flex space-x-2"},ie={key:1,class:"space-y-2"},ue={class:"pt-2"},de={class:"pt-4 flex justify-center space-x-4"},ce={key:0},_e={key:1,class:"pi pi-spinner pi-spin"},me={__name:"create",setup(ve){const x=L(),m=N(),{t:a}=E(),_=V(!1),T=k(()=>localStorage.getItem("appLang")||"en"),U=k(()=>T.value==="ar"),t=V({name_en:"",name_ar:"",is_color:!1,values:[{value_en:"",value_ar:""}]}),$=()=>{t.value.values.push({value_en:"",value_ar:""})},h=p=>{t.value.values.length>1?t.value.values.splice(p,1):m.add({severity:"warn",summary:a("warning"),detail:a("attribute.minOneValue"),life:3e3})},I=async()=>{if(!t.value.name_en||!t.value.name_ar){m.add({severity:"error",summary:a("error"),detail:a("validation.requiredFields"),life:3e3});return}for(const e of t.value.values)if(!e.value_en||!t.value.is_color&&!e.value_ar){m.add({severity:"error",summary:a("error"),detail:a("attribute.valueRequired"),life:3e3});return}_.value=!0;const p={name_en:t.value.name_en,name_ar:t.value.name_ar,is_color:t.value.is_color,values:t.value.is_color?t.value.values.map(e=>({value_en:e.value_en,value_ar:e.value_en})):t.value.values};O.post("/api/attribute",p).then(e=>{x.push({name:"attributes"}),m.add({severity:"success",summary:a("success"),detail:a("attribute.createSuccess"),life:3e3})}).catch(e=>{m.add({severity:"error",summary:a("error"),detail:e.response.data.message,life:3e3}),_.value=!1,console.log(e.response.data.message)})};return(p,e)=>{const b=g("InputText"),D=g("InputSwitch"),v=g("Button"),F=g("Toast"),S=R("can");return r(),i(B,null,[w((r(),i("div",{class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg",dir:U.value?"rtl":"ltr"},[s("h1",H,d(l(a)("attribute.createTitle")),1),s("form",{onSubmit:M(I,["prevent"]),class:"space-y-6"},[s("div",J,[s("div",K,[s("label",P,[f(d(l(a)("attribute.nameEn"))+" ",1),e[4]||(e[4]=s("span",{class:"text-red-500"},"*",-1))]),u(b,{id:"name_en",modelValue:t.value.name_en,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name_en=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"])]),s("div",Q,[s("label",W,[f(d(l(a)("attribute.nameAr"))+" ",1),e[5]||(e[5]=s("span",{class:"text-red-500"},"*",-1))]),u(b,{id:"name_ar",modelValue:t.value.name_ar,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.name_ar=o),dir:"rtl",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue"])]),s("div",X,[s("label",Y,d(l(a)("attribute.isColor")),1),u(D,{id:"is_color",modelValue:t.value.is_color,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.is_color=o),class:"mt-2"},null,8,["modelValue"])])]),s("div",Z,[s("h3",ee,d(l(a)("attribute.values")),1),(r(!0),i(B,null,q(t.value.values,(o,n)=>(r(),i("div",{key:n,class:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end"},[s("div",te,[s("label",{for:`value_en_${n}`,class:"block text-sm font-medium text-gray-700"},[f(d(l(a)("attribute.valueEn"))+" ",1),e[6]||(e[6]=s("span",{class:"text-red-500"},"*",-1))],8,ae),s("div",se,[t.value.is_color?w((r(),i("input",{key:1,type:"color",id:`value_en_${n}`,"onUpdate:modelValue":c=>o.value_en=c,class:"flex-1 h-10 border border-gray-300 rounded-lg"},null,8,le)),[[G,o.value_en]]):(r(),C(b,{key:0,id:`value_en_${n}`,modelValue:o.value_en,"onUpdate:modelValue":c=>o.value_en=c,class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["id","modelValue","onUpdate:modelValue"]))])]),t.value.is_color?y("",!0):(r(),i("div",oe,[s("label",{for:`value_ar_${n}`,class:"block text-sm font-medium text-gray-700"},[f(d(l(a)("attribute.valueAr"))+" ",1),e[7]||(e[7]=s("span",{class:"text-red-500"},"*",-1))],8,re),s("div",ne,[u(b,{id:`value_ar_${n}`,modelValue:o.value_ar,"onUpdate:modelValue":c=>o.value_ar=c,dir:"rtl",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["id","modelValue","onUpdate:modelValue"]),n>0?(r(),C(v,{key:0,type:"button",icon:"pi pi-trash",severity:"danger",onClick:c=>h(n),class:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition",title:l(a)("attribute.removeValue")},null,8,["onClick","title"])):y("",!0)])])),t.value.is_color&&n>0?(r(),i("div",ie,[u(v,{type:"button",icon:"pi pi-trash",severity:"danger",onClick:c=>h(n),class:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition",title:l(a)("attribute.removeValue")},null,8,["onClick","title"])])):y("",!0)]))),128)),s("div",ue,[u(v,{type:"button",label:l(a)("attribute.addValue"),icon:"pi pi-plus",onClick:$,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition"},null,8,["label"])])]),s("div",de,[u(v,{type:"button",label:l(a)("attribute.cancelButton"),icon:"pi pi-times",onClick:e[3]||(e[3]=o=>l(x).go(-1)),class:"px-6 py-3 mx-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:_.value},null,8,["label","disabled"]),u(v,{type:"submit",label:l(a)("attribute.createButton"),icon:"pi pi-plus",loading:_.value,class:"px-8 mx-2 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:_.value},{default:A(()=>[_.value?(r(),i("i",_e)):(r(),i("span",ce,d(l(a)("attribute.createButton")),1))]),_:1},8,["label","loading","disabled"])])],32)],8,z)),[[S,"create attributes"]]),u(F)],64)}}},be=j(me,[["__scopeId","data-v-9f86c659"]]);export{be as default};
