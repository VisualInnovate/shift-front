import{_ as P,b as q,c as z,u as G,r as p,q as y,a1 as M,e as i,f as d,B as O,g as e,t as r,i as s,h as m,w as I,G as h,F as $,k,l as B,n as H,p as J}from"./index-67a1f675.js";const K={class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg"},Q={class:"text-3xl font-bold text-center mb-8 text-gray-800"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={class:"space-y-2"},Y={for:"name_en",class:"block text-sm font-medium text-gray-700"},Z={key:0,class:"text-red-500 text-xs"},ee={class:"space-y-2"},te={for:"name_ar",class:"block text-sm font-medium text-gray-700"},ae={key:0,class:"text-red-500 text-xs"},se={class:"md:col-span-2 space-y-2"},oe={class:"block text-sm font-medium text-gray-700"},re={class:"flex justify-center"},ne={key:0,class:"p-4"},le={class:"relative group"},ie=["src"],de={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},ce={class:"opacity-0 group-hover:opacity-100 space-x-3 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0"},ue={class:"bg-white text-gray-700 p-2 rounded-full hover:bg-gray-100 transition cursor-pointer"},pe={class:"mt-2 text-center text-sm text-gray-500"},me={key:1,class:"p-8 flex flex-col items-center justify-center"},_e={class:"text-sm text-center text-gray-600 mb-1"},be={class:"text-blue-500 font-medium"},ge={class:"text-xs text-gray-400"},ve={class:"pt-4 flex justify-center space-x-4"},fe={key:0},xe={key:1,class:"pi pi-spinner pi-spin"},ye={__name:"create",setup(he){const D=q(),V=z(),{t:a}=G(),_=p(),c=p(!1),g=p(null),v=p(null),b=p(!1),u=p({name_en:"",name_ar:""}),N=o=>{o.preventDefault(),b.value=!0},E=()=>{b.value=!1},U=o=>{g.value=o;const t=new FileReader;t.onload=n=>{v.value=n.target.result},t.readAsDataURL(o),b.value=!1},w=o=>{var n,l,f;const t=((n=o.target.files)==null?void 0:n[0])||((f=(l=o.dataTransfer)==null?void 0:l.files)==null?void 0:f[0]);t&&t.type.match("image.*")&&U(t)},A=()=>{g.value=null,v.value=null},L=async()=>{var t,n;c.value=!0;const o=new FormData;o.append("name_en",u.value.name_en),o.append("name_ar",u.value.name_ar),g.value&&o.append("image",g.value);try{await J.post("/api/brand",o),D.push({name:"brand"}),V.add({severity:"success",summary:a("success"),detail:a("brand.createSuccess"),life:3e3})}catch(l){console.error("Error creating brand:",l),V.add({severity:"error",summary:a("error"),detail:((n=(t=l.response)==null?void 0:t.data)==null?void 0:n.message)||a("brand.createError"),life:3e3})}finally{c.value=!1}};return(o,t)=>{const n=y("InputText"),l=y("Button"),f=y("Form"),R=y("Toast"),S=M("can");return i(),d($,null,[O((i(),d("div",K,[e("h1",Q,r(s(a)("brand.createTitle")),1),m(f,{ref_key:"form",ref:_,onSubmit:h(L,["prevent"]),class:"space-y-6"},{default:I(()=>{var T,C,F,j;return[e("div",W,[e("div",X,[e("label",Y,[k(r(s(a)("brand.nameEn"))+" ",1),t[3]||(t[3]=e("span",{class:"text-red-500"},"*",-1))]),m(n,{id:"name_en",modelValue:u.value.name_en,"onUpdate:modelValue":t[0]||(t[0]=x=>u.value.name_en=x),placeholder:s(a)("brand.enterNameEn"),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue","placeholder"]),(C=(T=_.value)==null?void 0:T.errors)!=null&&C.name_en?(i(),d("small",Z,r(_.value.errors.name_en[0]),1)):B("",!0)]),e("div",ee,[e("label",te,[k(r(s(a)("brand.nameAr"))+" ",1),t[4]||(t[4]=e("span",{class:"text-red-500"},"*",-1))]),m(n,{id:"name_ar",modelValue:u.value.name_ar,"onUpdate:modelValue":t[1]||(t[1]=x=>u.value.name_ar=x),placeholder:s(a)("brand.enterNameAr"),dir:"rtl",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"},null,8,["modelValue","placeholder"]),(j=(F=_.value)==null?void 0:F.errors)!=null&&j.name_ar?(i(),d("small",ae,r(_.value.errors.name_ar[0]),1)):B("",!0)]),e("div",se,[e("label",oe,r(s(a)("brand.logo")),1),e("div",re,[e("label",{onDragover:h(N,["prevent"]),onDragleave:E,onDrop:h(w,["prevent"]),class:H([{"border-blue-500 bg-blue-50":b.value,"border-gray-300":!b.value},"cursor-pointer w-full max-w-md rounded-xl border-2 border-dashed transition-colors duration-300"])},[e("input",{type:"file",onChange:w,accept:"image/*",class:"hidden"},null,32),v.value?(i(),d("div",ne,[e("div",le,[e("img",{src:v.value,alt:"Preview",class:"w-full h-64 object-contain rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105"},null,8,ie),e("div",de,[e("div",ce,[e("button",{type:"button",onClick:h(A,["stop"]),class:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition"},t[5]||(t[5]=[e("i",{class:"pi pi-trash text-sm"},null,-1)])),e("label",ue,[t[6]||(t[6]=e("i",{class:"pi pi-pencil text-sm"},null,-1)),e("input",{type:"file",onChange:w,accept:"image/*",class:"hidden"},null,32)])])])]),e("p",pe,r(s(a)("brand.changeLogo")),1)])):(i(),d("div",me,[t[7]||(t[7]=e("div",{class:"bg-blue-100 p-4 rounded-full mb-4"},[e("i",{class:"pi pi-image text-blue-500 text-2xl"})],-1)),e("p",_e,[e("span",be,r(s(a)("brand.upload")),1),k(" "+r(s(a)("brand.orDragDrop")),1)]),e("p",ge,r(s(a)("brand.fileTypes")),1)]))],34)])])]),e("div",ve,[m(l,{type:"button",label:s(a)("cancel"),icon:"pi pi-times",onClick:t[2]||(t[2]=x=>s(D).go(-1)),class:"px-6 mx-2 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:c.value},null,8,["label","disabled"]),m(l,{type:"submit",label:s(a)("brand.create"),icon:"pi pi-plus",loading:c.value,class:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center space-x-2",disabled:c.value},{default:I(()=>[c.value?(i(),d("i",xe)):(i(),d("span",fe,r(s(a)("brand.create")),1))]),_:1},8,["label","loading","disabled"])])]}),_:1},512)])),[[S,"create brands"]]),m(R)],64)}}},ke=P(ye,[["__scopeId","data-v-2a41b0ce"]]);export{ke as default};
