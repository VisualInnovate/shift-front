import{_ as P,j as S,r as u,u as F,k as I,l as M,o as z,E as D,q as $,a as n,c as r,f as s,t as v,e as R,F as x,d as b,i as V,x as B,g as L}from"./index-8ba96be0.js";const A={class:"mx-auto px-4 max-w-[1500px]"},H={key:0,class:"flex justify-center items-center py-16"},N={key:1,class:"text-center py-16 text-red-600"},U={class:"text-lg font-semibold"},W={class:"font-bold font-sans text-gray-600 lg:mt-4 xs:mt-2 xs:text-lg text-center sm:text-xl md:text-2xl lg:text-3xl"},G=["onClick","aria-label"],J={class:"w-full overflow-hidden rounded-xl shadow-sm relative bg-gray-100 aspect-square"},K=["src","alt"],O={class:"font-sans mt-4 mb-1 text-center mx-3 text-gray-800 font-medium xs:text-sm sm:text-base md:text-lg w-full truncate"},Q={key:0,class:"flex justify-center items-center pt-8"},X={class:"inline-flex gap-2","aria-label":"Pagination"},Y=["onClick","aria-current"],Z={__name:"customtap-brand",props:{title:{type:String,default:""}},setup(j){const{t:f}=S(),d=u(localStorage.getItem("appLang")||"ar"),w=u([]),y=u(!0),m=u(null),k=F(),c=I(),_=u({current_page:1,last_page:1,next_page_url:null,prev_page_url:null,links:[]}),p=u(parseInt(c.query.page)||1),C=u(!1),h=()=>{typeof window<"u"&&(C.value=window.innerWidth<768)},T=M(()=>C.value?8:15);z(()=>{h(),typeof window<"u"&&window.addEventListener("resize",h)}),D(()=>{typeof window<"u"&&window.removeEventListener("resize",h)});const g=async(t,o=1)=>{if(!t)return;y.value=!0,m.value=null;const i=`/api/home/get-custom-tab-details/${t}?limit=${T.value}&page=${o}`;try{const a=(await V.get(i)).data.data;_.value={current_page:a.details.current_page,last_page:a.details.last_page,next_page_url:a.details.next_page_url,prev_page_url:a.details.prev_page_url,links:a.details.links},p.value=a.details.current_page,w.value=[{id:t,name_ar:a.name_ar||f("home.customTabTitle",{number:t}),name_en:a.name_en||f("home.customTabTitle",{number:t}),type:a.type,row_type:a.type===1?1:2,details:(a.details.data||[]).map(l=>({id:l.id,name_ar:l.name_ar,name_en:l.name_en,has_subcategories:l.has_subcategories,media:l.media}))}]}catch(e){console.error("Error fetching custom tabs:",e),m.value=f("error.fetchFailed")||"Failed to load custom content."}finally{y.value=!1,k.push({query:{...c.query}}).catch(()=>{})}},q=t=>{k.push({name:"products-brand",params:{id:t}})},E=t=>{t>=1&&t<=_.value.last_page&&g(c.params.id,t)};return z(()=>{g(c.params.id,p.value)}),$(()=>c.params.id,t=>{t&&(p.value=1,g(t,1))}),$(T,(t,o)=>{t!==o&&(p.value=1,g(c.params.id,1))}),(t,o)=>(n(),r("div",A,[y.value?(n(),r("div",H,o[1]||(o[1]=[s("svg",{class:"animate-spin h-8 w-8 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):m.value?(n(),r("div",N,[s("p",U,v(m.value),1),s("button",{onClick:o[0]||(o[0]=i=>g(R(c).params.id,p.value)),class:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded"}," Retry ")])):(n(!0),r(x,{key:2},b(w.value,i=>(n(),r("div",{key:i.id,class:"m-auto max-w-7xl"},[s("h2",W,v(j.title||(d.value==="ar"?i.name_ar:i.name_en)||"Category"),1),s("div",{class:B(["mt-6 grid gap-x-4 gap-y-8",i.row_type===1?"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-5":"grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5"])},[(n(!0),r(x,null,b(i.details,(e,a)=>{var l;return n(),r("div",{key:a,class:"group flex flex-col items-start cursor-pointer transition-all pb-[1%] rounded-lg shadow-lg duration-300 hover:-translate-y-2 h-auto",onClick:ee=>q(e.has_subcategories,e.id,d.value==="ar"?e.name_ar:e.name_en),"aria-label":`Maps to ${d.value==="ar"?e.name_ar:e.name_en}`},[s("div",J,[s("img",{src:((l=e.media[0])==null?void 0:l.url)||"/placeholder.jpg",alt:d.value==="ar"?e.name_ar:e.name_en,class:"w-full h-full object-contain transition-transform duration-500 group-hover:scale-110",loading:"lazy"},null,8,K),o[2]||(o[2]=s("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"},null,-1))]),s("p",O,v(d.value==="ar"?e.name_ar:e.name_en),1)],8,G)}),128))],2),_.value.last_page>1?(n(),r("div",Q,[s("nav",X,[(n(!0),r(x,null,b(_.value.links,(e,a)=>(n(),r(x,{key:a},[e.url&&!["« Previous","Next »"].includes(e.label)?(n(),r("button",{key:0,onClick:l=>E(parseInt(e.label)),"aria-current":e.active?"page":void 0,class:B(["px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200",e.active?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-indigo-100 hover:text-indigo-700"])},v(e.label),11,Y)):L("",!0)],64))),128))])])):L("",!0)]))),128))]))}},ae=P(Z,[["__scopeId","data-v-dc5a257c"]]);export{ae as default};
