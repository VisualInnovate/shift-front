import{_ as M,u as R,a as q,r as n,o as G,c as t,d as r,f as l,t as I,e as P,w as d,h as s,m,l as u,v as H,F as v,k as h,j as J}from"./index-21d8e7d9.js";import{S as g,A as p,a as w}from"./swiper-3e47eae2.js";import{N as T}from"./navigation-43e77a9f.js";import"./navigation-339cb9fb.js";/* empty css                   */import{C as K}from"./CustomTaps-e4ecd6b3.js";import{P as Q}from"./ProductOffers-e92dcb86.js";import{d as S}from"./loginFormImg-30837cfe.js";const U={class:"mx-auto mt-4 max-w-7xl px-4 sm:px-6 lg:px-8"},W={key:0,class:"flex flex-col items-center justify-center py-16 rounded-xl animate-pulse"},X={key:1,class:"text-center py-16 text-red-600"},Y={class:"text-lg font-semibold"},Z={key:2},ee={class:"text-center mb-12"},ae={class:"text-3xl sm:text-5xl font-extrabold text-gray-800 tracking-tight animate-fade-in"},le={key:0,class:"my-10"},te={class:"w-full h-58 overflow-hidden rounded-lg relative"},se=["src","alt","aria-label"],oe={class:"font-sans mt-4 mb-1 text-black font-bold text-sm sm:text-base md:text-lg"},ne={class:"flex w-full max-h-[50vh] items-center justify-center bg-gradient-to-br from-gray-50 to-gray-300 rounded-xl shadow-lg overflow-hidden"},re=["src","alt","aria-label"],ie={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10"},de={class:"rounded-xl shadow-lg overflow-hidden"},ue={class:"flex w-full max-h-64 items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl overflow-hidden"},ce=["src","alt","aria-label"],me={class:"rounded-xl shadow-lg overflow-hidden"},_e={class:"flex w-full h-64 items-center justify-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl overflow-hidden"},fe=["src","alt","aria-label"],ve={key:3,class:"mt-8 hidden py-2 rounded-sm px-2 bg-[#1F3A932B] mx-auto max-w-7xl"},he=["onClick"],ge=["src","alt","aria-label"],pe={class:"p-3 w-full text-center rounded-xl"},we={class:"font-bold text-sm text-black"},be={class:"mt-16 space-y-16"},xe={class:"mx-auto mt-16 w-[100%] max-w-7xl"},ye={__name:"hasmarket",setup(ke){const V=R(),{t:z,locale:$}=q(),i=n({}),O=n(""),j=n([]),b=n([]),x=n([]),B=n([]),y=n([]);n({title:"Exclusive Offers",products:[]}),n({title:"Best Sellers",products:[]}),n({title:"New Arrivals",products:[]});const _=n(!1),f=n(null),L=n(localStorage.getItem("defaultStoreId")),C=e=>$.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,N=(e,c)=>(e==null?void 0:e.filter(a=>a.name===c))||[],D=async()=>{_.value=!0,f.value=null;try{const e=await J.get(`/api/home/store-details/${L.value}`);i.value=e.data.data.store||{}}catch(e){console.error("Error fetching store details:",e),f.value=z("category.errorLoading")||"Failed to load store details."}finally{_.value=!1}},F=e=>{console.log(e),e.has_subcategories?V.push({name:"subcategory",params:{id:e.id}}):V.push({name:"produts_category",params:{id:e.id}})},E=()=>{i.value&&(O.value=$.value==="ar"?i.value.name_ar||i.value.name_en:i.value.name_en||i.value.name_ar,j.value=N(i.value.media,"slider_images_one"),b.value=N(i.value.media,"slider_images_two"),x.value=N(i.value.media,"slider_images_three"),B.value=(i.value.categories||[]).map(e=>({id:e.id,name_ar:e.name_ar||e.name_en,name_en:e.name_en||e.name_ar,media:e.media||[{url:S,name:"default"}]})),y.value=(i.value.markets||[]).map(e=>({id:e.id,has_subcategories:e.has_subcategories,title:$.value==="ar"?e.name_ar||e.name_en:e.name_en||e.name_ar,media:(e.media||[]).map(c=>({url:c.url||S,name:c.name||"default"}))})))},A=async()=>{_.value=!0,await D(),f.value||E(),_.value=!1};return G(()=>{L.value&&A()}),(e,c)=>(t(),r("div",U,[_.value?(t(),r("div",W,c[0]||(c[0]=[l("img",{src:H,alt:"Loading Logo",class:"w-32 h-32 object-contain animate-bounce","aria-label":"Loading animation"},null,-1)]))):f.value?(t(),r("div",X,[l("p",Y,I(f.value),1)])):(t(),r("div",Z,[l("div",ee,[l("h1",ae,I(O.value),1)]),y.value.length?(t(),r("div",le,[P(s(w),{modules:[s(p)],"space-between":20,loop:y.value.length>3,autoplay:{delay:3e3,disableOnInteraction:!1},speed:1e3,"grab-cursor":!0,"center-insufficient-slides":!0,navigation:!1,class:"mt-6 pb-12",breakpoints:{320:{slidesPerView:1,spaceBetween:8},640:{slidesPerView:2,spaceBetween:12},768:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:20}}},{default:d(()=>[(t(!0),r(v,null,h(y.value,a=>(t(),u(s(g),{key:a.id,class:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:-translate-y-2",onClick:o=>F(a)},{default:d(()=>{var o;return[l("div",te,[l("img",{src:((o=a.media.find(k=>k.name==="category_image"))==null?void 0:o.url)||s(S),alt:`${a.title} category image`,class:"w-full shadow-md h-full object-contain transition-transform duration-500 group-hover:scale-110",loading:"lazy","aria-label":`${a.title} category image`},null,8,se)]),l("h3",oe,I(a.title),1)]}),_:2},1032,["onClick"]))),128))]),_:1},8,["modules","loop"])])):m("",!0),j.value.length?(t(),u(s(w),{key:1,modules:[s(p),s(T)],breakpoints:{320:{slidesPerView:1},640:{slidesPerView:1},768:{slidesPerView:1},1024:{slidesPerView:1}},"space-between":10,autoplay:{delay:3e3,disableOnInteraction:!1},navigation:!1,class:"w-full rounded-2xl shadow-xl overflow-hidden mb-10"},{default:d(()=>[(t(!0),r(v,null,h(j.value,(a,o)=>(t(),u(s(g),{key:o},{default:d(()=>[l("div",ne,[l("img",{src:a.url,alt:`Slider Image ${o+1}`,class:"w-full h-full object-contain rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Promotional banner ${o+1}`},null,8,re)])]),_:2},1024))),128))]),_:1},8,["modules"])):m("",!0),b.value.length||x.value.length?(t(),r("div",ie,[l("div",de,[b.value.length?(t(),u(s(w),{key:0,modules:[s(p)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:d(()=>[(t(!0),r(v,null,h(b.value,(a,o)=>(t(),u(s(g),{key:"two-"+o},{default:d(()=>[l("div",ue,[l("img",{src:a.url,alt:`Slider Two Image ${o+1}`,class:"w-full h-64 object-contain rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Secondary banner ${o+1}`},null,8,ce)])]),_:2},1024))),128))]),_:1},8,["modules"])):m("",!0)]),l("div",me,[x.value.length?(t(),u(s(w),{key:0,modules:[s(p)],"slides-per-view":1,"space-between":10,autoplay:{delay:2500,disableOnInteraction:!1},class:"w-full h-full"},{default:d(()=>[(t(!0),r(v,null,h(x.value,(a,o)=>(t(),u(s(g),{key:"three-"+o},{default:d(()=>[l("div",_e,[l("img",{src:a.url,alt:`Slider Three Image ${o+1}`,class:"w-full h-full object-contain rounded-xl transform hover:scale-105 transition-transform duration-500",loading:"lazy","aria-label":`Tertiary banner ${o+1}`},null,8,fe)])]),_:2},1024))),128))]),_:1},8,["modules"])):m("",!0)])])):m("",!0),B.value.length?(t(),r("div",ve,[P(s(w),{modules:[s(T),s(p)],"slides-per-view":8,"space-between":10,navigation:!1,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{clickable:!0},class:"w-full",breakpoints:{320:{slidesPerView:2},640:{slidesPerView:2},768:{slidesPerView:5},1024:{slidesPerView:7}}},{default:d(()=>[(t(!0),r(v,null,h(B.value,a=>(t(),u(s(g),{key:a.id},{default:d(()=>{var o,k;return[l("div",{onClick:Ie=>s(V).push(`/categories/${a.id}`),class:"flex flex-col items-center justify-center rounded-xl h-full w-full cursor-pointer"},[l("img",{src:((k=(o=a.media)==null?void 0:o[0])==null?void 0:k.url)||s(S),alt:`${C(a)} image`,class:"w-full h-full max-h-36 object-contain rounded-xl",loading:"lazy","aria-label":`${C(a)} category image`},null,8,ge),l("div",pe,[l("span",we,I(C(a).slice(0,20)),1)])],8,he)]}),_:2},1024))),128))]),_:1},8,["modules"])])):m("",!0),l("section",be,[P(Q)]),l("section",xe,[P(K)])]))]))}},Oe=M(ye,[["__scopeId","data-v-97202fc8"]]);export{Oe as default};
