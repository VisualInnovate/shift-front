import{_ as C,u as w,c as A,r,d as g,o as k,p as L,q as T,e as n,v as B,w as I,g as a,f as i,h as y,i as h,s as M,t as u,x as S}from"./index-7b82f61b.js";import{p as V}from"./purify.es-9d2bf633.js";const $={class:"flex"},z={class:"w-full"},E={key:0,class:"flex justify-center items-center h-64"},H={key:1,class:"text-center text-red-500 py-10"},N={class:"text-lg font-semibold"},b=["dir","innerHTML"],j={key:3,class:"text-center text-gray-600 py-10"},q={__name:"terms-condition",setup(D){const{t:o}=w(),_=A(),p=r((()=>localStorage.getItem("appLang")||"en")()),m=r([]),l=r(!1),d=r(null),v=t=>{const s=m.value.find(e=>e.key===t);return(s==null?void 0:s.value)||""},c=g(()=>p.value==="ar"?v("terms_conditions_ar"):v("terms_conditions_en")),x=g(()=>V.sanitize(c.value));return k(async()=>{var t,s;l.value=!0;try{const{data:e}=await L.get("/api/setting/not-auth");if(e.is_success&&Array.isArray(e.data))m.value=e.data,c.value||_.add({severity:"warn",summary:o("termsAndConditions.warning"),detail:o("termsAndConditions.noContent"),life:4e3});else throw new Error("Invalid response format")}catch(e){const f=((s=(t=e.response)==null?void 0:t.data)==null?void 0:s.message)||o("error.loadTermsAndConditions");d.value=f,_.add({severity:"error",summary:o("error.title"),detail:f,life:5e3}),console.error("Failed to load settings:",e)}finally{l.value=!1}}),(t,s)=>{const e=T("va-card");return n(),B(e,{class:"card my-4 p-[2%] min-h-[50vh] max-w-7xl m-auto"},{default:I(()=>[a("div",$,[a("div",z,[l.value?(n(),i("div",E,[y(h(M),{style:{width:"50px",height:"50px"}})])):d.value?(n(),i("div",H,[a("p",N,u(t.$t("error.title")),1),a("p",null,u(d.value),1)])):c.value?(n(),i("div",{key:2,class:"prose max-w-none",dir:p.value==="ar"?"rtl":"ltr",innerHTML:x.value},null,8,b)):(n(),i("div",j,[a("p",null,u(t.$t("termsAndConditions.noContent")),1)]))])]),y(h(S))]),_:1})}}},K=C(q,[["__scopeId","data-v-41d50a80"]]);export{K as default};
