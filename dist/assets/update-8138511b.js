import{_ as xe,b as he,a as ke,c as Ve,u as we,r as m,d as I,o as Ue,a1 as De,B as Ie,e as g,f as b,g as a,t as d,i,k as f,h as c,n as y,l as X,F as Y,m as Z,G as x,p as V,V as P,U as h,ai as ee,aj as L,ag as ae,ak as $e,ah as Ce,W as S,x as Fe}from"./index-6aa0199c.js";const Le=["dir"],Se={class:"text-3xl font-bold text-center mb-8 text-gray-800"},je={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ae={class:"space-y-2"},Re={for:"store_id",class:"block text-sm font-medium text-gray-700"},Pe={class:"space-y-2"},Be={for:"category_id",class:"block text-sm font-medium text-gray-700"},Ee={class:"space-y-2"},Te={for:"brand_id",class:"block text-sm font-medium text-gray-700"},ze={class:"space-y-2"},Me={for:"sku",class:"block text-sm font-medium text-gray-700"},Ne={key:0,class:"text-red-500"},qe={class:"space-y-2"},Ge={for:"name_en",class:"block text-sm font-medium text-gray-700"},Oe={class:"space-y-2"},Qe={for:"code",class:"block text-sm font-medium text-gray-700"},We={class:"space-y-2"},He={for:"name_ar",class:"block text-sm font-medium text-gray-700"},Je={class:"space-y-2"},Ke={for:"sub_name_en",class:"block text-sm font-medium text-gray-700"},Xe={class:"space-y-2"},Ye={for:"sub_name_ar",class:"block text-sm font-medium text-gray-700"},Ze={class:"md:col-span-2 space-y-2"},ea={for:"description_en",class:"block text-sm font-medium text-gray-700"},aa={class:"md:col-span-2 space-y-2"},ta={for:"description_ar",class:"block text-sm font-medium text-gray-700"},sa={class:"space-y-2"},la={for:"base_price",class:"block text-sm font-medium text-gray-700"},oa={class:"space-y-2"},ia={for:"cost_price",class:"block text-sm font-medium text-gray-700"},ra={class:"space-y-2"},da={for:"tax",class:"block text-sm font-medium text-gray-700"},na={class:"space-y-2"},ua={for:"is_displayed",class:"block text-sm font-medium text-gray-700"},ca={class:"space-y-2"},pa={for:"is_stock",class:"block text-sm font-medium text-gray-700"},ma={class:"md:col-span-2 space-y-2"},_a={class:"flex items-center"},va={for:"hasVariants",class:"text-sm font-medium text-gray-700"},ga={key:0,class:"md:col-span-2 space-y-4"},ba={class:"border-b pb-2"},fa={class:"text-lg font-semibold text-gray-800"},ya={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xa={class:"space-y-2 md:col-span-2"},ha=["for"],ka={class:"space-y-2"},Va=["for"],wa={class:"space-y-2"},Ua=["for"],Da={class:"space-y-2"},Ia=["for"],$a=["for","onDrop"],Ca=["id","onChange"],Fa={key:0,class:"p-4"},La={class:"relative group"},Sa=["src"],ja={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Aa=["onClick","title"],Ra={class:"mt-2 text-center text-sm text-gray-500"},Pa={key:1,class:"p-4 flex flex-col items-center justify-center"},Ba={class:"text-xs text-center text-gray-600"},Ea={class:"text-blue-500 font-medium"},Ta={class:"text-xs text-gray-400"},za={class:"flex justify-end"},Ma={class:"md:col-span-2 space-y-2"},Na={class:"block text-sm font-medium text-gray-700"},qa={key:0,class:"flex flex-col items-center"},Ga={class:"relative group"},Oa=["src"],Qa={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Wa=["title"],Ha={class:"mt-2 text-center text-sm text-gray-500"},Ja={key:1,class:"flex flex-col items-center justify-center space-y-3"},Ka={class:"text-sm text-center text-gray-600"},Xa={class:"text-blue-500 font-medium"},Ya={class:"text-xs text-gray-400"},Za={class:"md:col-span-2 space-y-2"},et={class:"block text-sm font-medium text-gray-700"},at={key:0,class:"space-y-4"},tt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},st=["src"],lt={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},ot=["onClick","title"],it={class:"text-center text-sm text-gray-500"},rt={key:1,class:"flex flex-col items-center justify-center space-y-3"},dt={class:"text-sm text-center text-gray-600"},nt={class:"text-blue-500 font-medium"},ut={class:"text-xs text-gray-400"},ct={class:"pt-4 flex justify-center space-x-4"},pt={__name:"update",setup(mt){const B=he(),E=ke(),p=Ve(),{t:l}=we();m();const $=m(!1),_=m(!1),T=m([]),z=m([]),M=m([]),N=m([]),v=m(!1),j=m(""),A=m(""),w=m(null),k=m(null),R=m([]),U=m([]),C=I(()=>localStorage.getItem("appLang")||"en"),D=I(()=>C.value==="en"?"name_en":"name_ar"),te=I(()=>C.value==="ar"),o=m({store_id:null,category_id:null,brand_id:"",sku:"",name_en:"",name_ar:"",sub_name_en:"",sub_name_ar:"",description_en:"",description_ar:"",base_price:null,cost_price:null,tax:0,code:"",is_displayed:!0,is_stock:!0,variants:[]}),se=I(()=>{const s=["store_id","category_id","name_en","name_ar","base_price"];return v.value||s.push("sku"),s}),le=I(()=>N.value.map(s=>({label:C.value==="en"?s.name_en:s.name_ar,value:s.id,items:s.values.map(e=>({attribute_value_id:e.id,[D.value]:C.value==="en"?e.value_en:e.value_ar}))}))),oe=async()=>{var s,e,u;try{const r=(await V.get(`/api/product/${E.params.id}`)).data.data;A.value=((s=r==null?void 0:r.brand)==null?void 0:s.name_ar)||"",j.value=((e=r==null?void 0:r.category)==null?void 0:e.name_ar)||"",await q(),await G(),o.value={store_id:r.store_id,category_id:r.category_id,brand_id:r.brand_id,sku:r.sku||"",code:r.code||"",name_en:r.name_en,name_ar:r.name_ar,sub_name_en:r.sub_name_en||"",sub_name_ar:r.sub_name_ar||"",description_en:r.description_en||"",description_ar:r.description_ar||"",base_price:r.base_price||null,cost_price:r.cost_price||null,tax:r.tax||0,is_displayed:r.is_displayed===1,is_stock:r.is_stock===1,variants:((u=r.variants)==null?void 0:u.map(n=>{var F,J,K;return{id:n.id,sku:n.sku||"",price:n.price,attribute_value_ids:((F=n.attribute_values)==null?void 0:F.map(ye=>ye.id))||[],variant_image:null,variant_image_preview:((K=(J=n.media)==null?void 0:J[0])==null?void 0:K.url)||null}}))||[]},v.value=!!r.has_variants,r.media&&r.media.length>0&&(k.value=r.media[0].url,r.media.length>1&&(U.value=r.media.slice(1).map(n=>n.url)))}catch{p.add({severity:"error",summary:l("error"),detail:l("error.productLoad"),life:3e3})}},ie=async()=>{try{const s=await V.get("/api/store");T.value=s.data.data.data}catch{p.add({severity:"error",summary:l("error"),detail:l("error.storeLoad"),life:3e3})}},q=async()=>{try{const s=await V.get("/api/category",{params:{search:j.value||void 0}});z.value=s.data.data.data}catch{p.add({severity:"error",summary:l("error"),detail:l("error.categoryLoad"),life:3e3})}},G=async()=>{try{const s=await V.get("/api/brand",{params:{search:A.value||void 0}});M.value=s.data.data.data}catch{p.add({severity:"error",summary:l("error"),detail:l("error.brandLoad"),life:3e3})}},re=async()=>{try{const s=await V.get("/api/product/create/data");N.value=s.data.data}catch{p.add({severity:"error",summary:l("error"),detail:l("error.attributeLoad"),life:3e3})}},de=s=>{j.value=s.value,q()},ne=s=>{A.value=s.value,G()};Ue(()=>{ie(),re(),oe()});const ue=s=>{if(s.size>2*1024*1024){p.add({severity:"error",summary:l("error"),detail:l("validation.imageSize"),life:3e3});return}if(!s.type.match("image.*")){p.add({severity:"error",summary:l("error"),detail:l("validation.imageInvalid"),life:3e3});return}w.value=s;const e=new FileReader;e.onload=u=>{k.value=u.target.result},e.readAsDataURL(s)},O=s=>{var u,t,r;const e=((u=s.target.files)==null?void 0:u[0])||((r=(t=s.dataTransfer)==null?void 0:t.files)==null?void 0:r[0]);e&&ue(e),_.value=!1},ce=()=>{w.value=null,k.value=null},pe=s=>{for(let e=0;e<s.length;e++){const u=s[e];if(u.size>2*1024*1024){p.add({severity:"error",summary:l("error"),detail:l("validation.imageSize"),life:3e3});continue}if(!u.type.match("image.*")){p.add({severity:"error",summary:l("error"),detail:l("validation.imageInvalid"),life:3e3});continue}const t=new FileReader;t.onload=r=>{R.value.push(u),U.value.push(r.target.result)},t.readAsDataURL(u)}_.value=!1},Q=s=>{var u;const e=s.target.files||((u=s.dataTransfer)==null?void 0:u.files);e&&e.length>0&&pe(e)},me=s=>{R.value.splice(s,1),U.value.splice(s,1)},_e=(s,e)=>{if(s.size>2*1024*1024){p.add({severity:"error",summary:l("error"),detail:l("validation.imageSize"),life:3e3});return}if(!s.type.match("image.*")){p.add({severity:"error",summary:l("error"),detail:l("validation.imageInvalid"),life:3e3});return}o.value.variants[e].variant_image=s;const u=new FileReader;u.onload=t=>{o.value.variants[e].variant_image_preview=t.target.result},u.readAsDataURL(s)},W=(s,e)=>{var t,r,n;const u=((t=s.target.files)==null?void 0:t[0])||((n=(r=s.dataTransfer)==null?void 0:r.files)==null?void 0:n[0]);u&&_e(u,e)},ve=s=>{o.value.variants[s].variant_image=null,o.value.variants[s].variant_image_preview=null},ge=()=>{v.value=!v.value,v.value&&!o.value.variants.length?H():v.value||(o.value.variants=[])},H=()=>{o.value.variants.push({id:null,sku:"",price:"",attribute_value_ids:[],variant_image:null,variant_image_preview:null})},be=s=>{o.value.variants.length>1?o.value.variants.splice(s,1):p.add({severity:"warn",summary:l("error"),detail:l("validation.atLeastOneVariant"),life:3e3})},fe=async()=>{var e,u;if(se.value.some(t=>!o.value[t])){p.add({severity:"error",summary:l("error"),detail:l("validation.requiredFields"),life:3e3});return}if(!w.value&&!k.value){p.add({severity:"error",summary:l("error"),detail:l("validation.mainImageRequired"),life:3e3});return}if(v.value&&o.value.variants.some(t=>!t.price||!(t.attribute_value_ids&&t.attribute_value_ids.length))){p.add({severity:"error",summary:l("error"),detail:l("validation.variantRequiredFields"),life:3e3});return}$.value=!0;const s=new FormData;s.append("_method","post"),s.append("store_id",o.value.store_id),s.append("category_id",o.value.category_id),o.value.brand_id&&s.append("brand_id",o.value.brand_id),s.append("sku",o.value.sku||""),s.append("code",o.value.code||""),s.append("name_en",o.value.name_en),s.append("name_ar",o.value.name_ar),s.append("sub_name_en",o.value.sub_name_en||""),s.append("sub_name_ar",o.value.sub_name_ar||""),s.append("description_en",o.value.description_en||""),s.append("description_ar",o.value.description_ar||""),s.append("tax",o.value.tax),s.append("is_displayed",o.value.is_displayed?1:0),s.append("is_stock",o.value.is_stock?1:0),s.append("base_price",o.value.base_price),s.append("cost_price",o.value.cost_price||0),w.value&&s.append("main_image",w.value),R.value.forEach((t,r)=>{s.append(`images[${r}]`,t)}),v.value&&o.value.variants.forEach((t,r)=>{t.id&&s.append(`variants[${r}][id]`,t.id),t.sku&&s.append(`variants[${r}][sku]`,t.sku),s.append(`variants[${r}][price]`,t.price),t.attribute_value_ids&&t.attribute_value_ids.length&&t.attribute_value_ids.forEach((n,F)=>{s.append(`variants[${r}][attribute_value_ids][${F}]`,n)}),t.variant_image&&s.append(`variants[${r}][variant_image]`,t.variant_image)});try{await V.post(`/api/product/${E.params.id}`,s,{headers:{"Content-Type":"multipart/form-data"}}),B.push({name:"product"}),p.add({severity:"success",summary:l("success"),detail:l("product.updateSuccess"),life:3e3})}catch(t){p.add({severity:"error",summary:l("error"),detail:((u=(e=t.response)==null?void 0:e.data)==null?void 0:u.message)||l("error.updateError"),life:3e3})}finally{$.value=!1}};return(s,e)=>{const u=De("can");return Ie((g(),b("div",{class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg",dir:te.value?"rtl":"ltr"},[a("h1",Se,d(i(l)("product.updateTitle")),1),a("form",{onSubmit:x(fe,["prevent"]),class:"space-y-6"},[a("div",je,[a("div",Ae,[a("label",Re,[f(d(i(l)("product.store"))+" ",1),e[24]||(e[24]=a("span",{class:"text-red-500"},"*",-1))]),c(i(P),{filter:"",id:"store_id",modelValue:o.value.store_id,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.store_id=t),options:T.value,optionLabel:D.value,optionValue:"id",class:y(["w-full",{"p-invalid":!o.value.store_id}])},null,8,["modelValue","options","optionLabel","class"])]),a("div",Pe,[a("label",Be,[f(d(i(l)("product.category"))+" ",1),e[25]||(e[25]=a("span",{class:"text-red-500"},"*",-1))]),c(i(P),{filter:"",id:"category_id",modelValue:o.value.category_id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.category_id=t),options:z.value,optionLabel:D.value,optionValue:"id",class:y(["w-full",{"p-invalid":!o.value.category_id}]),filterPlaceholder:"Search categories",onFilter:de},null,8,["modelValue","options","optionLabel","class"])]),a("div",Ee,[a("label",Te,d(i(l)("product.brand")),1),c(i(P),{filter:"",id:"brand_id",modelValue:o.value.brand_id,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.brand_id=t),options:M.value,optionLabel:D.value,optionValue:"id",class:"w-full",filterPlaceholder:"Search brands",onFilter:ne},null,8,["modelValue","options","optionLabel"])]),a("div",ze,[a("label",Me,[f(d(i(l)("product.sku"))+" ",1),v.value?X("",!0):(g(),b("span",Ne,"*"))]),c(i(h),{id:"sku",modelValue:o.value.sku,"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.sku=t),class:y(["w-full",{"p-invalid":!v.value&&!o.value.sku}])},null,8,["modelValue","class"])]),a("div",qe,[a("label",Ge,[f(d(i(l)("product.nameEn"))+" ",1),e[26]||(e[26]=a("span",{class:"text-red-500"},"*",-1))]),c(i(h),{id:"name_en",modelValue:o.value.name_en,"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.name_en=t),class:y(["w-full",{"p-invalid":!o.value.name_en}])},null,8,["modelValue","class"])]),a("div",Oe,[a("label",Qe,d(i(l)("product.code")),1),c(i(h),{id:"code",modelValue:o.value.code,"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.code=t),class:"w-full",placeholder:"e.g. PROD-456 / supplier code"},null,8,["modelValue"])]),a("div",We,[a("label",He,[f(d(i(l)("product.nameAr"))+" ",1),e[27]||(e[27]=a("span",{class:"text-red-500"},"*",-1))]),c(i(h),{id:"name_ar",modelValue:o.value.name_ar,"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.name_ar=t),dir:"rtl",class:y(["w-full",{"p-invalid":!o.value.name_ar}])},null,8,["modelValue","class"])]),a("div",Je,[a("label",Ke,d(i(l)("product.subNameEn")),1),c(i(h),{id:"sub_name_en",modelValue:o.value.sub_name_en,"onUpdate:modelValue":e[7]||(e[7]=t=>o.value.sub_name_en=t),class:"w-full"},null,8,["modelValue"])]),a("div",Xe,[a("label",Ye,d(i(l)("product.subNameAr")),1),c(i(h),{id:"sub_name_ar",modelValue:o.value.sub_name_ar,"onUpdate:modelValue":e[8]||(e[8]=t=>o.value.sub_name_ar=t),dir:"rtl",class:"w-full"},null,8,["modelValue"])]),a("div",Ze,[a("label",ea,d(i(l)("product.descriptionEn")),1),c(i(ee),{id:"description_en",modelValue:o.value.description_en,"onUpdate:modelValue":e[9]||(e[9]=t=>o.value.description_en=t),rows:"4",class:"w-full"},null,8,["modelValue"])]),a("div",aa,[a("label",ta,d(i(l)("product.descriptionAr")),1),c(i(ee),{id:"description_ar",modelValue:o.value.description_ar,"onUpdate:modelValue":e[10]||(e[10]=t=>o.value.description_ar=t),rows:"4",dir:"rtl",class:"w-full"},null,8,["modelValue"])]),a("div",sa,[a("label",la,[f(d(i(l)("product.basePrice"))+" ",1),e[28]||(e[28]=a("span",{class:"text-red-500"},"*",-1))]),c(i(L),{id:"base_price",modelValue:o.value.base_price,"onUpdate:modelValue":e[11]||(e[11]=t=>o.value.base_price=t),mode:"decimal",minFractionDigits:2,class:y(["w-full",{"p-invalid":!o.value.base_price}])},null,8,["modelValue","class"])]),a("div",oa,[a("label",ia,d(i(l)("product.costPrice")),1),c(i(L),{id:"cost_price",modelValue:o.value.cost_price,"onUpdate:modelValue":e[12]||(e[12]=t=>o.value.cost_price=t),mode:"decimal",minFractionDigits:2,class:"w-full"},null,8,["modelValue"])]),a("div",ra,[a("label",da,d(i(l)("product.tax"))+" (%) ",1),c(i(L),{id:"tax",modelValue:o.value.tax,"onUpdate:modelValue":e[13]||(e[13]=t=>o.value.tax=t),mode:"decimal",min:0,max:100,minFractionDigits:2,class:"w-full"},null,8,["modelValue"])]),a("div",na,[a("label",ua,d(i(l)("product.displayStatus")),1),c(i(ae),{id:"is_displayed",modelValue:o.value.is_displayed,"onUpdate:modelValue":e[14]||(e[14]=t=>o.value.is_displayed=t)},null,8,["modelValue"])]),a("div",ca,[a("label",pa,d(i(l)("product.stockStatus")),1),c(i(ae),{id:"is_stock",modelValue:o.value.is_stock,"onUpdate:modelValue":e[15]||(e[15]=t=>o.value.is_stock=t)},null,8,["modelValue"])]),a("div",ma,[a("div",_a,[c(i($e),{modelValue:v.value,"onUpdate:modelValue":e[16]||(e[16]=t=>v.value=t),inputId:"hasVariants",binary:!0,onClick:ge,class:"mr-2"},null,8,["modelValue"]),a("label",va,d(i(l)("product.hasVariants")),1)])]),v.value?(g(),b("div",ga,[a("div",ba,[a("h3",fa,d(i(l)("product.variants")),1)]),(g(!0),b(Y,null,Z(o.value.variants,(t,r)=>(g(),b("div",{key:r,class:"p-4 border rounded-lg space-y-4 bg-gray-50"},[a("div",ya,[a("div",xa,[a("label",{for:"attributes_"+r,class:"block text-sm font-medium text-gray-700"},[f(d(i(l)("product.attributes"))+" ",1),e[29]||(e[29]=a("span",{class:"text-red-500"},"*",-1))],8,ha),c(i(Ce),{id:"attributes_"+r,modelValue:t.attribute_value_ids,"onUpdate:modelValue":n=>t.attribute_value_ids=n,options:le.value,optionGroupLabel:"label",optionGroupChildren:"items",optionLabel:D.value,optionValue:"attribute_value_id",class:y(["w-full",{"p-invalid":!(t.attribute_value_ids&&t.attribute_value_ids.length)}]),filter:!0,display:"chip"},null,8,["id","modelValue","onUpdate:modelValue","options","optionLabel","class"])]),a("div",ka,[a("label",{for:"sku_"+r,class:"block text-sm font-medium text-gray-700"},d(i(l)("product.sku")),9,Va),c(i(h),{id:"sku_"+r,modelValue:t.sku,"onUpdate:modelValue":n=>t.sku=n,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"])]),a("div",wa,[a("label",{for:"price_"+r,class:"block text-sm font-medium text-gray-700"},[f(d(i(l)("product.price"))+" ",1),e[30]||(e[30]=a("span",{class:"text-red-500"},"*",-1))],8,Ua),c(i(L),{id:"price_"+r,modelValue:t.price,"onUpdate:modelValue":n=>t.price=n,mode:"decimal",minFractionDigits:2,class:y(["w-full",{"p-invalid":!t.price}])},null,8,["id","modelValue","onUpdate:modelValue","class"])]),a("div",Da,[a("label",{for:"variant_image_"+r,class:"block text-sm font-medium text-gray-700"},d(i(l)("product.variantImage")),9,Ia),a("label",{for:"variant_image_"+r,onDragover:e[17]||(e[17]=x(n=>_.value=!0,["prevent"])),onDragleave:e[18]||(e[18]=n=>_.value=!1),onDrop:x(n=>W(n,r),["prevent"]),class:y([{"border-blue-500 bg-blue-50":_.value,"border-gray-300":!_.value},"cursor-pointer w-full rounded border-2 border-dashed transition-colors duration-300 block"])},[a("input",{type:"file",id:"variant_image_"+r,onChange:n=>W(n,r),accept:"image/*",class:"hidden"},null,40,Ca),t.variant_image_preview?(g(),b("div",Fa,[a("div",La,[a("img",{src:t.variant_image_preview,alt:"Variant Preview",class:"w-full h-32 object-contain rounded-lg shadow-md"},null,8,Sa),a("div",ja,[a("button",{type:"button",onClick:x(n=>ve(r),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:i(l)("product.deleteImage")},e[31]||(e[31]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,Aa)])]),a("p",Ra,d(i(l)("product.changeImage")),1)])):(g(),b("div",Pa,[e[32]||(e[32]=a("div",{class:"bg-blue-100 p-2 rounded-full mb-2"},[a("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),a("p",Ba,[a("span",Ea,d(i(l)("product.uploadClick")),1),f(" "+d(i(l)("product.uploadDrag")),1)]),a("p",Ta,d(i(l)("product.imageFormat")),1)]))],42,$a)])]),a("div",za,[c(i(S),{type:"button",icon:"pi pi-trash",class:"p-button-danger p-button-sm",onClick:n=>be(r),disabled:o.value.variants.length===1,label:i(l)("product.removeVariant")},null,8,["onClick","disabled","label"])])]))),128)),c(i(S),{type:"button",label:i(l)("product.addVariant"),icon:"pi pi-plus",class:"p-button-outlined p-button-secondary",onClick:H},null,8,["label"])])):X("",!0),a("div",Ma,[a("label",Na,[f(d(i(l)("product.mainImage"))+" ",1),e[33]||(e[33]=a("span",{class:"text-red-500"},"*",-1))]),a("label",{for:"main_image_upload",onDragover:e[19]||(e[19]=x(t=>_.value=!0,["prevent"])),onDragleave:e[20]||(e[20]=t=>_.value=!1),onDrop:x(O,["prevent"]),class:y([{"border-blue-500 bg-blue-50":_.value,"border-gray-300":!_.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300 p-6 block"])},[a("input",{type:"file",id:"main_image_upload",onChange:O,accept:"image/*",class:"hidden"},null,32),k.value?(g(),b("div",qa,[a("div",Ga,[a("img",{src:k.value,alt:"Main Preview",class:"w-full h-48 object-contain rounded-lg shadow-md"},null,8,Oa),a("div",Qa,[a("button",{type:"button",onClick:x(ce,["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:i(l)("product.deleteImage")},e[34]||(e[34]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,Wa)])]),a("p",Ha,d(i(l)("product.changeImage")),1)])):(g(),b("div",Ja,[e[35]||(e[35]=a("div",{class:"bg-blue-100 p-3 rounded-full"},[a("i",{class:"pi pi-image text-blue-500 text-2xl"})],-1)),a("p",Ka,[a("span",Xa,d(i(l)("product.uploadClick")),1),f(" "+d(i(l)("product.uploadDrag")),1)]),a("p",Ya,d(i(l)("product.imageFormat")),1)]))],34)]),a("div",Za,[a("label",et,d(i(l)("product.additionalImages")),1),a("label",{for:"additional_images_upload",onDragover:e[21]||(e[21]=x(t=>_.value=!0,["prevent"])),onDragleave:e[22]||(e[22]=t=>_.value=!1),onDrop:x(Q,["prevent"]),class:y([{"border-blue-500 bg-blue-50":_.value,"border-gray-300":!_.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300 p-6 block"])},[a("input",{type:"file",id:"additional_images_upload",onChange:Q,accept:"image/*",multiple:"",class:"hidden"},null,32),U.value.length>0?(g(),b("div",at,[a("div",tt,[(g(!0),b(Y,null,Z(U.value,(t,r)=>(g(),b("div",{key:r,class:"relative group"},[a("img",{src:t,alt:"Additional Preview",class:"w-full h-32 object-cover rounded-lg shadow-md"},null,8,st),a("div",lt,[a("button",{type:"button",onClick:x(n=>me(r),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:i(l)("product.deleteImage")},e[36]||(e[36]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,ot)])]))),128))]),a("p",it,d(i(l)("product.addMoreImages")),1)])):(g(),b("div",rt,[e[37]||(e[37]=a("div",{class:"bg-blue-100 p-3 rounded-full"},[a("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),a("p",dt,[a("span",nt,d(i(l)("product.uploadClick")),1),f(" "+d(i(l)("product.uploadDrag")),1)]),a("p",ut,d(i(l)("product.imageFormat")),1)]))],34)])]),a("div",ct,[c(i(S),{type:"button",label:i(l)("product.cancelButton"),icon:"pi pi-times",onClick:e[23]||(e[23]=t=>i(B).go(-1)),class:"p-button-outlined mx-3 p-button-secondary",disabled:$.value},null,8,["label","disabled"]),c(i(S),{type:"submit",label:i(l)("product.updateButton"),icon:"pi pi-check",loading:$.value,class:"p-button-success"},null,8,["label","loading"])])],32),c(i(Fe))],8,Le)),[[u,"update product inventories"]])}}},vt=xe(pt,[["__scopeId","data-v-6c119e23"]]);export{vt as default};
