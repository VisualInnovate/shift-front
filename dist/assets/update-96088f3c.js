import{_ as fe,l as ye,p as xe,a as he,u as ke,r as m,c as D,o as Ve,a1 as we,B as Ue,e as g,h as b,g as a,t as d,j as o,v as f,i as c,A as y,n as K,F as X,m as Y,G as x,b as k,V as F,U as V,ag as Z,ah as L,ae as ee,ai as Ie,W as S,k as De}from"./index-950ab536.js";const $e=["dir"],Ce={class:"text-3xl font-bold text-center mb-8 text-gray-800"},Fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Le={class:"space-y-2"},Se={for:"store_id",class:"block text-sm font-medium text-gray-700"},Ae={class:"space-y-2"},je={for:"category_id",class:"block text-sm font-medium text-gray-700"},Re={class:"space-y-2"},Pe={for:"brand_id",class:"block text-sm font-medium text-gray-700"},Be={class:"space-y-2"},Te={for:"sku",class:"block text-sm font-medium text-gray-700"},ze={key:0,class:"text-red-500"},Ee={class:"space-y-2"},Me={for:"name_en",class:"block text-sm font-medium text-gray-700"},Ne={class:"space-y-2"},qe={for:"name_ar",class:"block text-sm font-medium text-gray-700"},Ge={class:"space-y-2"},Qe={for:"sub_name_en",class:"block text-sm font-medium text-gray-700"},Oe={class:"space-y-2"},We={for:"sub_name_ar",class:"block text-sm font-medium text-gray-700"},He={class:"md:col-span-2 space-y-2"},Je={for:"description_en",class:"block text-sm font-medium text-gray-700"},Ke={class:"md:col-span-2 space-y-2"},Xe={for:"description_ar",class:"block text-sm font-medium text-gray-700"},Ye={class:"space-y-2"},Ze={for:"base_price",class:"block text-sm font-medium text-gray-700"},ea={class:"space-y-2"},aa={for:"cost_price",class:"block text-sm font-medium text-gray-700"},ta={class:"space-y-2"},sa={for:"tax",class:"block text-sm font-medium text-gray-700"},la={class:"space-y-2"},oa={for:"is_displayed",class:"block text-sm font-medium text-gray-700"},ia={class:"space-y-2"},ra={for:"is_stock",class:"block text-sm font-medium text-gray-700"},da={class:"md:col-span-2 space-y-2"},na={class:"flex items-center"},ua={for:"hasVariants",class:"text-sm font-medium text-gray-700"},ca={key:0,class:"md:col-span-2 space-y-4"},pa={class:"border-b pb-2"},ma={class:"text-lg font-semibold text-gray-800"},_a={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},va={class:"space-y-2 md:col-span-2"},ga=["for"],ba={class:"space-y-2"},fa=["for"],ya={class:"space-y-2"},xa=["for"],ha={class:"space-y-2"},ka=["for"],Va=["for","onDrop"],wa=["id","onChange"],Ua={key:0,class:"p-4"},Ia={class:"relative group"},Da=["src"],$a={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Ca=["onClick","title"],Fa={class:"mt-2 text-center text-sm text-gray-500"},La={key:1,class:"p-4 flex flex-col items-center justify-center"},Sa={class:"text-xs text-center text-gray-600"},Aa={class:"text-blue-500 font-medium"},ja={class:"text-xs text-gray-400"},Ra={class:"flex justify-end"},Pa={class:"md:col-span-2 space-y-2"},Ba={class:"block text-sm font-medium text-gray-700"},Ta={key:0,class:"flex flex-col items-center"},za={class:"relative group"},Ea=["src"],Ma={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},Na=["title"],qa={class:"mt-2 text-center text-sm text-gray-500"},Ga={key:1,class:"flex flex-col items-center justify-center space-y-3"},Qa={class:"text-sm text-center text-gray-600"},Oa={class:"text-blue-500 font-medium"},Wa={class:"text-xs text-gray-400"},Ha={class:"md:col-span-2 space-y-2"},Ja={class:"block text-sm font-medium text-gray-700"},Ka={key:0,class:"space-y-4"},Xa={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Ya=["src"],Za={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 flex items-center justify-center transition-all duration-300 rounded-lg"},et=["onClick","title"],at={class:"text-center text-sm text-gray-500"},tt={key:1,class:"flex flex-col items-center justify-center space-y-3"},st={class:"text-sm text-center text-gray-600"},lt={class:"text-blue-500 font-medium"},ot={class:"text-xs text-gray-400"},it={class:"pt-4 flex justify-center space-x-4"},rt={__name:"update",setup(dt){const P=ye(),B=xe(),p=he(),{t:l}=ke();m();const $=m(!1),_=m(!1),T=m([]),z=m([]),E=m([]),M=m([]),v=m(!1),A=m(""),j=m(""),w=m(null),h=m(null),R=m([]),U=m([]),C=D(()=>localStorage.getItem("appLang")||"en"),I=D(()=>C.value==="en"?"name_en":"name_ar"),ae=D(()=>C.value==="ar"),i=m({store_id:null,category_id:null,brand_id:"",sku:"",name_en:"",name_ar:"",sub_name_en:"",sub_name_ar:"",description_en:"",description_ar:"",base_price:null,cost_price:null,tax:0,is_displayed:!0,is_stock:!0,variants:[]}),te=D(()=>{const t=["store_id","category_id","name_en","name_ar","base_price"];return v.value||t.push("sku"),t}),se=D(()=>M.value.map(t=>({label:C.value==="en"?t.name_en:t.name_ar,value:t.id,items:t.values.map(e=>({attribute_value_id:e.id,[I.value]:C.value==="en"?e.value_en:e.value_ar}))}))),le=async()=>{var t,e,n;try{const r=(await k.get(`/api/product/${B.params.id}`)).data.data;j.value=((t=r==null?void 0:r.brand)==null?void 0:t.name_ar)||"",A.value=((e=r==null?void 0:r.category)==null?void 0:e.name_ar)||"",await N(),await q(),i.value={store_id:r.store_id,category_id:r.category_id,brand_id:r.brand_id,sku:r.sku||"",name_en:r.name_en,name_ar:r.name_ar,sub_name_en:r.sub_name_en||"",sub_name_ar:r.sub_name_ar||"",description_en:r.description_en||"",description_ar:r.description_ar||"",base_price:r.base_price||null,cost_price:r.cost_price||null,tax:r.tax||0,is_displayed:r.is_displayed===1,is_stock:r.is_stock===1,variants:((n=r.variants)==null?void 0:n.map(u=>{var H,J;return{id:u.id,sku:u.sku||"",price:u.price,attribute_value_id:u.attribute_values.length>0?u.attribute_values[0].id:null,variant_image:null,variant_image_preview:((J=(H=u.media)==null?void 0:H[0])==null?void 0:J.url)||null}}))||[]},v.value=!!r.has_variants,r.media&&r.media.length>0&&(h.value=r.media[0].url,r.media.length>1&&(U.value=r.media.slice(1).map(u=>u.url)))}catch{p.add({severity:"error",summary:l("error"),detail:l("error.productLoad"),life:3e3})}},oe=async()=>{try{const t=await k.get("/api/store");T.value=t.data.data.data}catch{p.add({severity:"error",summary:l("error"),detail:l("error.storeLoad"),life:3e3})}},N=async()=>{try{const t=await k.get("/api/category",{params:{search:A.value||void 0}});z.value=t.data.data.data}catch{p.add({severity:"error",summary:l("error"),detail:l("error.categoryLoad"),life:3e3})}},q=async()=>{try{const t=await k.get("/api/brand",{params:{search:j.value||void 0}});E.value=t.data.data.data}catch{p.add({severity:"error",summary:l("error"),detail:l("error.brandLoad"),life:3e3})}},ie=async()=>{try{const t=await k.get("/api/product/create/data");M.value=t.data.data}catch{p.add({severity:"error",summary:l("error"),detail:l("error.attributeLoad"),life:3e3})}},re=t=>{A.value=t.value,N()},de=t=>{j.value=t.value,q()};Ve(()=>{oe(),ie(),le()});const ne=t=>{if(t.size>2*1024*1024){p.add({severity:"error",summary:l("error"),detail:l("validation.imageSize"),life:3e3});return}if(!t.type.match("image.*")){p.add({severity:"error",summary:l("error"),detail:l("validation.imageInvalid"),life:3e3});return}w.value=t;const e=new FileReader;e.onload=n=>{h.value=n.target.result},e.readAsDataURL(t)},G=t=>{var n,s,r;const e=((n=t.target.files)==null?void 0:n[0])||((r=(s=t.dataTransfer)==null?void 0:s.files)==null?void 0:r[0]);e&&ne(e),_.value=!1},ue=()=>{w.value=null,h.value=null},ce=t=>{for(let e=0;e<t.length;e++){const n=t[e];if(n.size>2*1024*1024){p.add({severity:"error",summary:l("error"),detail:l("validation.imageSize"),life:3e3});continue}if(!n.type.match("image.*")){p.add({severity:"error",summary:l("error"),detail:l("validation.imageInvalid"),life:3e3});continue}const s=new FileReader;s.onload=r=>{R.value.push(n),U.value.push(r.target.result)},s.readAsDataURL(n)}_.value=!1},Q=t=>{var n;const e=t.target.files||((n=t.dataTransfer)==null?void 0:n.files);e&&e.length>0&&ce(e)},pe=t=>{R.value.splice(t,1),U.value.splice(t,1)},me=(t,e)=>{if(t.size>2*1024*1024){p.add({severity:"error",summary:l("error"),detail:l("validation.imageSize"),life:3e3});return}if(!t.type.match("image.*")){p.add({severity:"error",summary:l("error"),detail:l("validation.imageInvalid"),life:3e3});return}i.value.variants[e].variant_image=t;const n=new FileReader;n.onload=s=>{i.value.variants[e].variant_image_preview=s.target.result},n.readAsDataURL(t)},O=(t,e)=>{var s,r,u;const n=((s=t.target.files)==null?void 0:s[0])||((u=(r=t.dataTransfer)==null?void 0:r.files)==null?void 0:u[0]);n&&me(n,e)},_e=t=>{i.value.variants[t].variant_image=null,i.value.variants[t].variant_image_preview=null},ve=()=>{v.value=!v.value,v.value&&!i.value.variants.length?W():v.value||(i.value.variants=[])},W=()=>{i.value.variants.push({id:null,sku:"",price:"",attribute_value_id:null,variant_image:null,variant_image_preview:null})},ge=t=>{i.value.variants.length>1?i.value.variants.splice(t,1):p.add({severity:"warn",summary:l("error"),detail:l("validation.atLeastOneVariant"),life:3e3})},be=async()=>{var e,n;if(te.value.some(s=>!i.value[s])){p.add({severity:"error",summary:l("error"),detail:l("validation.requiredFields"),life:3e3});return}if(!w.value&&!h.value){p.add({severity:"error",summary:l("error"),detail:l("validation.mainImageRequired"),life:3e3});return}if(v.value&&i.value.variants.some(s=>!s.price||!s.attribute_value_id)){p.add({severity:"error",summary:l("error"),detail:l("validation.variantRequiredFields"),life:3e3});return}$.value=!0;const t=new FormData;t.append("_method","post"),t.append("store_id",i.value.store_id),t.append("category_id",i.value.category_id),i.value.brand_id&&t.append("brand_id",i.value.brand_id),t.append("sku",i.value.sku||""),t.append("name_en",i.value.name_en),t.append("name_ar",i.value.name_ar),t.append("sub_name_en",i.value.sub_name_en||""),t.append("sub_name_ar",i.value.sub_name_ar||""),t.append("description_en",i.value.description_en||""),t.append("description_ar",i.value.description_ar||""),t.append("tax",i.value.tax),t.append("is_displayed",i.value.is_displayed?1:0),t.append("is_stock",i.value.is_stock?1:0),t.append("base_price",i.value.base_price),t.append("cost_price",i.value.cost_price||0),w.value&&t.append("main_image",w.value),R.value.forEach((s,r)=>{t.append(`images[${r}]`,s)}),v.value&&i.value.variants.forEach((s,r)=>{s.id&&t.append(`variants[${r}][id]`,s.id),s.sku&&t.append(`variants[${r}][sku]`,s.sku),t.append(`variants[${r}][price]`,s.price),s.attribute_value_id&&t.append(`variants[${r}][attribute_value_id]`,s.attribute_value_id),s.variant_image&&t.append(`variants[${r}][variant_image]`,s.variant_image)});try{await k.post(`/api/product/${B.params.id}`,t,{headers:{"Content-Type":"multipart/form-data"}}),P.push({name:"product"}),p.add({severity:"success",summary:l("success"),detail:l("product.updateSuccess"),life:3e3})}catch(s){p.add({severity:"error",summary:l("error"),detail:((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||l("error.updateError"),life:3e3})}finally{$.value=!1}};return(t,e)=>{const n=we("can");return Ue((g(),b("div",{class:"max-w-5xl mx-auto p-6 bg-white rounded-xl shadow-lg",dir:ae.value?"rtl":"ltr"},[a("h1",Ce,d(o(l)("product.updateTitle")),1),a("form",{onSubmit:x(be,["prevent"]),class:"space-y-6"},[a("div",Fe,[a("div",Le,[a("label",Se,[f(d(o(l)("product.store"))+" ",1),e[23]||(e[23]=a("span",{class:"text-red-500"},"*",-1))]),c(o(F),{filter:"",id:"store_id",modelValue:i.value.store_id,"onUpdate:modelValue":e[0]||(e[0]=s=>i.value.store_id=s),options:T.value,optionLabel:I.value,optionValue:"id",class:y(["w-full",{"p-invalid":!i.value.store_id}])},null,8,["modelValue","options","optionLabel","class"])]),a("div",Ae,[a("label",je,[f(d(o(l)("product.category"))+" ",1),e[24]||(e[24]=a("span",{class:"text-red-500"},"*",-1))]),c(o(F),{filter:"",id:"category_id",modelValue:i.value.category_id,"onUpdate:modelValue":e[1]||(e[1]=s=>i.value.category_id=s),options:z.value,optionLabel:I.value,optionValue:"id",class:y(["w-full",{"p-invalid":!i.value.category_id}]),filterPlaceholder:"Search categories",onFilter:re},null,8,["modelValue","options","optionLabel","class"])]),a("div",Re,[a("label",Pe,d(o(l)("product.brand")),1),c(o(F),{filter:"",id:"brand_id",modelValue:i.value.brand_id,"onUpdate:modelValue":e[2]||(e[2]=s=>i.value.brand_id=s),options:E.value,optionLabel:I.value,optionValue:"id",class:"w-full",filterPlaceholder:"Search brands",onFilter:de},null,8,["modelValue","options","optionLabel"])]),a("div",Be,[a("label",Te,[f(d(o(l)("product.sku"))+" ",1),v.value?K("",!0):(g(),b("span",ze,"*"))]),c(o(V),{id:"sku",modelValue:i.value.sku,"onUpdate:modelValue":e[3]||(e[3]=s=>i.value.sku=s),class:y(["w-full",{"p-invalid":!v.value&&!i.value.sku}])},null,8,["modelValue","class"])]),a("div",Ee,[a("label",Me,[f(d(o(l)("product.nameEn"))+" ",1),e[25]||(e[25]=a("span",{class:"text-red-500"},"*",-1))]),c(o(V),{id:"name_en",modelValue:i.value.name_en,"onUpdate:modelValue":e[4]||(e[4]=s=>i.value.name_en=s),class:y(["w-full",{"p-invalid":!i.value.name_en}])},null,8,["modelValue","class"])]),a("div",Ne,[a("label",qe,[f(d(o(l)("product.nameAr"))+" ",1),e[26]||(e[26]=a("span",{class:"text-red-500"},"*",-1))]),c(o(V),{id:"name_ar",modelValue:i.value.name_ar,"onUpdate:modelValue":e[5]||(e[5]=s=>i.value.name_ar=s),dir:"rtl",class:y(["w-full",{"p-invalid":!i.value.name_ar}])},null,8,["modelValue","class"])]),a("div",Ge,[a("label",Qe,d(o(l)("product.subNameEn")),1),c(o(V),{id:"sub_name_en",modelValue:i.value.sub_name_en,"onUpdate:modelValue":e[6]||(e[6]=s=>i.value.sub_name_en=s),class:"w-full"},null,8,["modelValue"])]),a("div",Oe,[a("label",We,d(o(l)("product.subNameAr")),1),c(o(V),{id:"sub_name_ar",modelValue:i.value.sub_name_ar,"onUpdate:modelValue":e[7]||(e[7]=s=>i.value.sub_name_ar=s),dir:"rtl",class:"w-full"},null,8,["modelValue"])]),a("div",He,[a("label",Je,d(o(l)("product.descriptionEn")),1),c(o(Z),{id:"description_en",modelValue:i.value.description_en,"onUpdate:modelValue":e[8]||(e[8]=s=>i.value.description_en=s),rows:"4",class:"w-full"},null,8,["modelValue"])]),a("div",Ke,[a("label",Xe,d(o(l)("product.descriptionAr")),1),c(o(Z),{id:"description_ar",modelValue:i.value.description_ar,"onUpdate:modelValue":e[9]||(e[9]=s=>i.value.description_ar=s),rows:"4",dir:"rtl",class:"w-full"},null,8,["modelValue"])]),a("div",Ye,[a("label",Ze,[f(d(o(l)("product.basePrice"))+" ",1),e[27]||(e[27]=a("span",{class:"text-red-500"},"*",-1))]),c(o(L),{id:"base_price",modelValue:i.value.base_price,"onUpdate:modelValue":e[10]||(e[10]=s=>i.value.base_price=s),mode:"decimal",minFractionDigits:2,class:y(["w-full",{"p-invalid":!i.value.base_price}])},null,8,["modelValue","class"])]),a("div",ea,[a("label",aa,d(o(l)("product.costPrice")),1),c(o(L),{id:"cost_price",modelValue:i.value.cost_price,"onUpdate:modelValue":e[11]||(e[11]=s=>i.value.cost_price=s),mode:"decimal",minFractionDigits:2,class:"w-full"},null,8,["modelValue"])]),a("div",ta,[a("label",sa,d(o(l)("product.tax"))+" (%) ",1),c(o(L),{id:"tax",modelValue:i.value.tax,"onUpdate:modelValue":e[12]||(e[12]=s=>i.value.tax=s),mode:"decimal",min:0,max:100,minFractionDigits:2,class:"w-full"},null,8,["modelValue"])]),a("div",la,[a("label",oa,d(o(l)("product.displayStatus")),1),c(o(ee),{id:"is_displayed",modelValue:i.value.is_displayed,"onUpdate:modelValue":e[13]||(e[13]=s=>i.value.is_displayed=s)},null,8,["modelValue"])]),a("div",ia,[a("label",ra,d(o(l)("product.stockStatus")),1),c(o(ee),{id:"is_stock",modelValue:i.value.is_stock,"onUpdate:modelValue":e[14]||(e[14]=s=>i.value.is_stock=s)},null,8,["modelValue"])]),a("div",da,[a("div",na,[c(o(Ie),{modelValue:v.value,"onUpdate:modelValue":e[15]||(e[15]=s=>v.value=s),inputId:"hasVariants",binary:!0,onClick:ve,class:"mr-2"},null,8,["modelValue"]),a("label",ua,d(o(l)("product.hasVariants")),1)])]),v.value?(g(),b("div",ca,[a("div",pa,[a("h3",ma,d(o(l)("product.variants")),1)]),(g(!0),b(X,null,Y(i.value.variants,(s,r)=>(g(),b("div",{key:r,class:"p-4 border rounded-lg space-y-4 bg-gray-50"},[a("div",_a,[a("div",va,[a("label",{for:"attributes_"+r,class:"block text-sm font-medium text-gray-700"},[f(d(o(l)("product.attributes"))+" ",1),e[28]||(e[28]=a("span",{class:"text-red-500"},"*",-1))],8,ga),c(o(F),{id:"attributes_"+r,modelValue:s.attribute_value_id,"onUpdate:modelValue":u=>s.attribute_value_id=u,options:se.value,optionGroupLabel:"label",optionGroupChildren:"items",optionLabel:I.value,optionValue:"attribute_value_id",class:y(["w-full",{"p-invalid":!s.attribute_value_id}]),filter:!0},null,8,["id","modelValue","onUpdate:modelValue","options","optionLabel","class"])]),a("div",ba,[a("label",{for:"sku_"+r,class:"block text-sm font-medium text-gray-700"},d(o(l)("product.sku")),9,fa),c(o(V),{id:"sku_"+r,modelValue:s.sku,"onUpdate:modelValue":u=>s.sku=u,class:"w-full"},null,8,["id","modelValue","onUpdate:modelValue"])]),a("div",ya,[a("label",{for:"price_"+r,class:"block text-sm font-medium text-gray-700"},[f(d(o(l)("product.price"))+" ",1),e[29]||(e[29]=a("span",{class:"text-red-500"},"*",-1))],8,xa),c(o(L),{id:"price_"+r,modelValue:s.price,"onUpdate:modelValue":u=>s.price=u,mode:"decimal",minFractionDigits:2,class:y(["w-full",{"p-invalid":!s.price}])},null,8,["id","modelValue","onUpdate:modelValue","class"])]),a("div",ha,[a("label",{for:"variant_image_"+r,class:"block text-sm font-medium text-gray-700"},d(o(l)("product.variantImage")),9,ka),a("label",{for:"variant_image_"+r,onDragover:e[16]||(e[16]=x(u=>_.value=!0,["prevent"])),onDragleave:e[17]||(e[17]=u=>_.value=!1),onDrop:x(u=>O(u,r),["prevent"]),class:y([{"border-blue-500 bg-blue-50":_.value,"border-gray-300":!_.value},"cursor-pointer w-full rounded border-2 border-dashed transition-colors duration-300 block"])},[a("input",{type:"file",id:"variant_image_"+r,onChange:u=>O(u,r),accept:"image/*",class:"hidden"},null,40,wa),s.variant_image_preview?(g(),b("div",Ua,[a("div",Ia,[a("img",{src:s.variant_image_preview,alt:"Variant Preview",class:"w-full h-32 object-contain rounded-lg shadow-md"},null,8,Da),a("div",$a,[a("button",{type:"button",onClick:x(u=>_e(r),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:o(l)("product.deleteImage")},e[30]||(e[30]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,Ca)])]),a("p",Fa,d(o(l)("product.changeImage")),1)])):(g(),b("div",La,[e[31]||(e[31]=a("div",{class:"bg-blue-100 p-2 rounded-full mb-2"},[a("i",{class:"pi pi-image text-blue-500 text-xl"})],-1)),a("p",Sa,[a("span",Aa,d(o(l)("product.uploadClick")),1),f(" "+d(o(l)("product.uploadDrag")),1)]),a("p",ja,d(o(l)("product.imageFormat")),1)]))],42,Va)])]),a("div",Ra,[c(o(S),{type:"button",icon:"pi pi-trash",class:"p-button-danger p-button-sm",onClick:u=>ge(r),disabled:i.value.variants.length===1,label:o(l)("product.removeVariant")},null,8,["onClick","disabled","label"])])]))),128)),c(o(S),{type:"button",label:o(l)("product.addVariant"),icon:"pi pi-plus",class:"p-button-outlined p-button-secondary",onClick:W},null,8,["label"])])):K("",!0),a("div",Pa,[a("label",Ba,[f(d(o(l)("product.mainImage"))+" ",1),e[32]||(e[32]=a("span",{class:"text-red-500"},"*",-1))]),a("label",{for:"main_image_upload",onDragover:e[18]||(e[18]=x(s=>_.value=!0,["prevent"])),onDragleave:e[19]||(e[19]=s=>_.value=!1),onDrop:x(G,["prevent"]),class:y([{"border-blue-500 bg-blue-50":_.value,"border-gray-300":!_.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300 p-6 block"])},[a("input",{type:"file",id:"main_image_upload",onChange:G,accept:"image/*",class:"hidden"},null,32),h.value?(g(),b("div",Ta,[a("div",za,[a("img",{src:h.value,alt:"Main Preview",class:"w-full h-48 object-contain rounded-lg shadow-md"},null,8,Ea),a("div",Ma,[a("button",{type:"button",onClick:x(ue,["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:o(l)("product.deleteImage")},e[33]||(e[33]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,Na)])]),a("p",qa,d(o(l)("product.changeImage")),1)])):(g(),b("div",Ga,[e[34]||(e[34]=a("div",{class:"bg-blue-100 p-3 rounded-full"},[a("i",{class:"pi pi-image text-blue-500 text-2xl"})],-1)),a("p",Qa,[a("span",Oa,d(o(l)("product.uploadClick")),1),f(" "+d(o(l)("product.uploadDrag")),1)]),a("p",Wa,d(o(l)("product.imageFormat")),1)]))],34)]),a("div",Ha,[a("label",Ja,d(o(l)("product.additionalImages")),1),a("label",{for:"additional_images_upload",onDragover:e[20]||(e[20]=x(s=>_.value=!0,["prevent"])),onDragleave:e[21]||(e[21]=s=>_.value=!1),onDrop:x(Q,["prevent"]),class:y([{"border-blue-500 bg-blue-50":_.value,"border-gray-300":!_.value},"cursor-pointer w-full rounded-xl border-2 border-dashed transition-colors duration-300 p-6 block"])},[a("input",{type:"file",id:"additional_images_upload",onChange:Q,accept:"image/*",multiple:"",class:"hidden"},null,32),U.value.length>0?(g(),b("div",Ka,[a("div",Xa,[(g(!0),b(X,null,Y(U.value,(s,r)=>(g(),b("div",{key:r,class:"relative group"},[a("img",{src:s,alt:"Additional Preview",class:"w-full h-32 object-cover rounded-lg shadow-md"},null,8,Ya),a("div",Za,[a("button",{type:"button",onClick:x(u=>pe(r),["stop"]),class:"opacity-0 group-hover:opacity-100 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition",title:o(l)("product.deleteImage")},e[35]||(e[35]=[a("i",{class:"pi pi-trash text-sm"},null,-1)]),8,et)])]))),128))]),a("p",at,d(o(l)("product.addMoreImages")),1)])):(g(),b("div",tt,[e[36]||(e[36]=a("div",{class:"bg-blue-100 p-3 rounded-full"},[a("i",{class:"pi pi-images text-blue-500 text-2xl"})],-1)),a("p",st,[a("span",lt,d(o(l)("product.uploadClick")),1),f(" "+d(o(l)("product.uploadDrag")),1)]),a("p",ot,d(o(l)("product.imageFormat")),1)]))],34)])]),a("div",it,[c(o(S),{type:"button",label:o(l)("product.cancelButton"),icon:"pi pi-times",onClick:e[22]||(e[22]=s=>o(P).go(-1)),class:"p-button-outlined mx-3 p-button-secondary",disabled:$.value},null,8,["label","disabled"]),c(o(S),{type:"submit",label:o(l)("product.updateButton"),icon:"pi pi-check",loading:$.value,class:"p-button-success"},null,8,["label","loading"])])],32),c(o(De))],8,$e)),[[n,"update product inventories"]])}}},ut=fe(rt,[["__scopeId","data-v-ca0fa25e"]]);export{ut as default};
